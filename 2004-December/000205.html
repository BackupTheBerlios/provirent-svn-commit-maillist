<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Provirent-svn-commit] r204 - in project_src/provirent_hibernate/src/de/hsharz/provirent: management/gui management/gui/language objects
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/provirent-svn-commit/2004-December/index.html" >
   <LINK REL="made" HREF="mailto:provirent-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BProvirent-svn-commit%5D%20r204%20-%20in%20project_src/provirent_hibernate/src/de/hsharz/provirent%3A%20management/gui%20management/gui/language%20objects&In-Reply-To=%3C200412051523.iB5FN3co004956%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000204.html">
   <LINK REL="Next"  HREF="000206.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Provirent-svn-commit] r204 - in project_src/provirent_hibernate/src/de/hsharz/provirent: management/gui management/gui/language objects</H1>
    <B>Philipp Schneider at BerliOS</B> 
    <A HREF="mailto:provirent-svn-commit%40lists.berlios.de?Subject=Re%3A%20%5BProvirent-svn-commit%5D%20r204%20-%20in%20project_src/provirent_hibernate/src/de/hsharz/provirent%3A%20management/gui%20management/gui/language%20objects&In-Reply-To=%3C200412051523.iB5FN3co004956%40sheep.berlios.de%3E"
       TITLE="[Provirent-svn-commit] r204 - in project_src/provirent_hibernate/src/de/hsharz/provirent: management/gui management/gui/language objects">pschneider at sheep.berlios.de
       </A><BR>
    <I>Sun Dec  5 16:23:03 CET 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000204.html">[Provirent-svn-commit] r203 - project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui
</A></li>
        <LI>Next message: <A HREF="000206.html">[Provirent-svn-commit] r205 - in project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui: . language
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#205">[ date ]</a>
              <a href="thread.html#205">[ thread ]</a>
              <a href="subject.html#205">[ subject ]</a>
              <a href="author.html#205">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: pschneider
Date: 2004-12-05 16:23:02 +0100 (Sun, 05 Dec 2004)
New Revision: 204

Modified:
   project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/CompositeCustomer.java
   project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/CompositeMovie.java
   project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/DialogMovie.java
   project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/SWTCalendarDialog.java
   project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/language/customer.properties
   project_src/provirent_hibernate/src/de/hsharz/provirent/objects/Customer.java
Log:
- datenbankfehler beseitig
- datumsformate korrigiert (ohne Util)
- Validate Methode hinzugef?\195?\188gt

Modified: project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/CompositeCustomer.java
===================================================================
--- project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/CompositeCustomer.java	2004-12-03 15:27:28 UTC (rev 203)
+++ project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/CompositeCustomer.java	2004-12-05 15:23:02 UTC (rev 204)
@@ -3,8 +3,10 @@
 import java.text.DateFormat;
 import java.text.MessageFormat;
 import java.text.ParseException;
+import java.util.ArrayList;
 import java.util.Calendar;
 import java.util.Date;
+import java.util.List;
 import java.util.Locale;
 import java.util.PropertyResourceBundle;
 import java.util.ResourceBundle;
@@ -45,20 +47,17 @@
 import de.hsharz.provirent.persistence.Database;
 
 /**
-* This code was generated using CloudGarden's Jigloo
-* SWT/Swing GUI Builder, which is free for non-commercial
-* use. If Jigloo is being used commercially (ie, by a corporation,
-* company or business for any purpose whatever) then you
-* should purchase a license for each developer using Jigloo.
-* Please visit www.cloudgarden.com for details.
-* Use of Jigloo implies acceptance of these licensing terms.
-* *************************************
-* A COMMERCIAL LICENSE HAS NOT BEEN PURCHASED
-* for this machine, so Jigloo or this code cannot be used legally
-* for any corporate or commercial purpose.
-* *************************************
-*/
-public class CompositeCustomer extends AbstractComposite{
+ * This code was generated using CloudGarden's Jigloo SWT/Swing GUI Builder,
+ * which is free for non-commercial use. If Jigloo is being used commercially
+ * (ie, by a corporation, company or business for any purpose whatever) then you
+ * should purchase a license for each developer using Jigloo. Please visit
+ * www.cloudgarden.com for details. Use of Jigloo implies acceptance of these
+ * licensing terms. ************************************* A COMMERCIAL LICENSE
+ * HAS NOT BEEN PURCHASED for this machine, so Jigloo or this code cannot be
+ * used legally for any corporate or commercial purpose.
+ * *************************************
+ */
+public class CompositeCustomer extends AbstractComposite {
 
     {
         //Register as a resource user - SWTResourceManager will
@@ -66,23 +65,24 @@
         SWTResourceManager.registerResourceUser(this);
     }
 
-
     /**
      * Logger for this class
      */
     private static final Logger logger = Logger
             .getLogger(CompositeCustomer.class);
-    
-    
+
     private final static int MODE_VIEW = 0;
 
     private final static int MODE_ADD = 1;
-    
+
     private SashForm sashForm1;
+
     private SashForm sashFormCustomer;
-    
+
     private Composite parent;
+
     private Composite compositeButtons;
+
     private Button changeStartDateButton;
 
     private Group groupCustomer;
@@ -90,85 +90,111 @@
     private Group groupCustomerOverview;
 
     private Group groupCustomerDetail;
-    
+
     private Button buttonCustomerCancel;
+
     private Button buttonCustomerSave;
+
     private Button buttonCustomerFill;
+
     private Button buttonCustomerDelete;
+
     private Button buttonCustomerEdit;
+
     private Button buttonCustomerNew;
-           
+
     private Table tableCustomer;
+
     private TableColumn tableColumn;
 
+    private final static int MODE_EDIT = 2;
 
-    private final static int MODE_EDIT = 2;
-    
     private StatusLineStyledText statusLine;
 
     private ResourceBundle l;
-    
+
     private int mode_Customer;
-    
+
     private Text textCustomerSearch;
+
     private Label labelCustomerSearch;
-    
-    private Label labelCustomerId;       
+
+    private Label labelCustomerId;
+
     private Text textCustomerID;
 
     private Label labelUserName;
+
     private Text textUserName;
 
     private Label labelLastName;
+
     private Text textLastName;
 
     private Label labelFirstName;
+
     private Text textFirstName;
 
     private Label labelMiddleName;
+
     private Text textMiddleName;
 
     private Label labelPassword;
+
     private Text textPassword;
 
     private Label labelRegistrationDate;
+
     private Text textRegistrationDate;
+
     private Button changeRegistrationDateButton;
-    
+
     private Label labelBirthday;
+
     private Text textBirthday;
+
     private Button changeBirthdayDateButton;
-    
+
     private Label labelSalutation;
+
     private Text textSalutation;
-    
+
     private Label labelTitle;
+
     private Text textTitle;
-    
+
     private Label labelStreet;
+
     private Text textStreet;
+
     private Text textNumber;
 
     private Label labelZipCode;
+
     private Text textZipCode;
 
     private Label labelCountry;
+
     private Text textCountry;
 
     private Label labelCity;
+
     private Text textCity;
 
     private Label labelEmail;
+
     private Text textEmail;
 
     private Label labelQuestion;
+
     private Text textQuestion;
 
     private Label labelAnswer;
+
     private Text textAnswer;
 
     private Customer localCustomer;
- 
+
     /*
      * &#196;ndert die Sprache aller Elemente
      * 
@@ -178,8 +204,9 @@
 
     }
 
-    /* 
+    /*
      * Init die Sprache (properties Datei)
+     * 
      * @see de.hsharz.provirent.managment.gui.AbstractComposite#initLanguage(java.util.Locale)
      */
     public void initLanguage(Locale locale) {
@@ -188,47 +215,45 @@
                 &quot;de.hsharz.provirent.management.gui.language.Customer&quot;, locale);
 
     }
-    
-    
-	/**
-	* Auto-generated main method to display this 
-	* org.eclipse.swt.widgets.Composite inside a new Shell.
-	*/
-	public static void main(String[] args) {
-		showGUI();
-	}
-		
-	/**
-	* Auto-generated method to display this 
-	* org.eclipse.swt.widgets.Composite inside a new Shell.
-	*/
-	public static void showGUI() {
-		Display display = Display.getDefault();
-		Shell shell = new Shell(display);
 
-		shell.open();
-		while (!shell.isDisposed()) {
-			if (!display.readAndDispatch())
-				display.sleep();
-		}
-	}
+    /**
+     * Auto-generated main method to display this
+     * org.eclipse.swt.widgets.Composite inside a new Shell.
+     */
+    public static void main(String[] args) {
+        showGUI();
+    }
 
-	public CompositeCustomer(Composite p, int style,
+    /**
+     * Auto-generated method to display this org.eclipse.swt.widgets.Composite
+     * inside a new Shell.
+     */
+    public static void showGUI() {
+        Display display = Display.getDefault();
+        Shell shell = new Shell(display);
+
+        shell.open();
+        while (!shell.isDisposed()) {
+            if (!display.readAndDispatch())
+                display.sleep();
+        }
+    }
+
+    public CompositeCustomer(Composite p, int style,
             StatusLineStyledText status, Locale l) {
-	    super(p, style, status, l);
+        super(p, style, status, l);
         parent = p;
         //Statusline wird gestzt
         statusLine = status;
-        
+
         //sprache wird init
         initLanguage(l);
-	    
-	    
-		initGUI();
-	}
 
-	private void initGUI() {
-	    if (logger.isDebugEnabled()) {
+        initGUI();
+    }
+
+    private void initGUI() {
+        if (logger.isDebugEnabled()) {
             logger.debug(&quot;initGUI() - start&quot;);
         }
 
@@ -247,8 +272,9 @@
             try {
                 refreshCustomerTable(textCustomerSearch.getText());
             } catch (DataBaseException e) {
-                // TODO Auto-generated catch block
-                e.printStackTrace();
+                logger
+                        .error(&quot;Databaseerror while refreshing Customer Table&quot;,
+                                e);
             }
 
         }
@@ -257,10 +283,10 @@
         if (logger.isDebugEnabled()) {
             logger.debug(&quot;initGUI() - end&quot;);
         }
-    } 
-	
-	/**
-     * 
+    }
+
+    /**
+     *  
      */
     private void initCustomerGroup() {
         {
@@ -273,8 +299,11 @@
             FormData group2LData = new FormData();
             groupCustomer.addFocusListener(new FocusAdapter() {
                 public void focusLost(FocusEvent evt) {
-                    System.out.println(&quot;groupCustomer.focusLost, event=&quot;
-                        + evt);
+                    if (logger.isDebugEnabled()) {
+                        logger
+                                .debug(&quot;focusLost(FocusEvent) - groupCustomer.focusLost, event=&quot;
+                                        + evt);
+                    }
                     buttonCustomerCancel.setEnabled(false);
                     buttonCustomerDelete.setEnabled(false);
                     buttonCustomerEdit.setEnabled(false);
@@ -304,10 +333,10 @@
             }
         }
 
-	}
+    }
 
     /**
-     * 
+     *  
      */
     private void initCustomerGroupDetail() {
         groupCustomerDetail = new Group(sashFormCustomer, SWT.NONE);
@@ -315,8 +344,7 @@
         groupCustomerDetailLayout.marginHeight = 25;
         groupCustomerDetailLayout.numColumns = 4;
         groupCustomerDetailLayout.verticalSpacing = 15;
-        groupCustomerDetail.setText(l
-                .getString(&quot;Customer.groupdetail.label&quot;));
+        groupCustomerDetail.setText(l.getString(&quot;Customer.groupdetail.label&quot;));
         FormData formData = new FormData();
         groupCustomerDetail.setLayout(groupCustomerDetailLayout);
         formData.right = new FormAttachment(100, 100, -5);
@@ -325,15 +353,14 @@
         groupCustomerDetail.setLayoutData(formData);
         {
             labelCustomerId = new Label(groupCustomerDetail, SWT.NONE);
-            labelCustomerId.setText(l
-                    .getString(&quot;Customer.groupdetail.idlabel&quot;)
+            labelCustomerId.setText(l.getString(&quot;Customer.groupdetail.idlabel&quot;)
                     + &quot;:&quot;);
             labelCustomerId.setSize(90, 15);
             GridData formData2 = new GridData();
             formData2.widthHint = 90;
             formData2.heightHint = 15;
             labelCustomerId.setLayoutData(formData2);
-        }        
+        }
         {
             textCustomerID = new Text(groupCustomerDetail, SWT.READ_ONLY
                     | SWT.BORDER);
@@ -377,8 +404,8 @@
             labelLastName.setLayoutData(labelLastNameLData);
         }
         {
-            textLastName = new Text(groupCustomerDetail,
-                    SWT.READ_ONLY | SWT.BORDER);
+            textLastName = new Text(groupCustomerDetail, SWT.READ_ONLY
+                    | SWT.BORDER);
             GridData text1LData2 = new GridData();
             text1LData2.horizontalAlignment = GridData.FILL;
             text1LData2.heightHint = 13;
@@ -387,8 +414,7 @@
             textLastName.setLayoutData(text1LData2);
         }
         {
-            labelFirstName = new Label(groupCustomerDetail,
-                    SWT.NONE);
+            labelFirstName = new Label(groupCustomerDetail, SWT.NONE);
             labelFirstName.setText(l
                     .getString(&quot;Customer.groupdetail.firstnamelabel&quot;)
                     + &quot;:&quot;);
@@ -399,8 +425,8 @@
             labelFirstName.setLayoutData(label2LData1);
         }
         {
-            textFirstName = new Text(groupCustomerDetail,
-                    SWT.READ_ONLY | SWT.BORDER);
+            textFirstName = new Text(groupCustomerDetail, SWT.READ_ONLY
+                    | SWT.BORDER);
             GridData text1LData3 = new GridData();
             text1LData3.horizontalAlignment = GridData.FILL;
             text1LData3.heightHint = 13;
@@ -408,8 +434,7 @@
             textFirstName.setLayoutData(text1LData3);
         }
         {
-            labelMiddleName = new Label(groupCustomerDetail,
-                    SWT.NONE);
+            labelMiddleName = new Label(groupCustomerDetail, SWT.NONE);
             labelMiddleName.setText(l
                     .getString(&quot;Customer.groupdetail.middlenamelabel&quot;)
                     + &quot;:&quot;);
@@ -420,8 +445,8 @@
             labelMiddleName.setLayoutData(label2LData1);
         }
         {
-            textMiddleName = new Text(groupCustomerDetail,
-                    SWT.READ_ONLY | SWT.BORDER);
+            textMiddleName = new Text(groupCustomerDetail, SWT.READ_ONLY
+                    | SWT.BORDER);
             GridData text1LData3 = new GridData();
             text1LData3.heightHint = 13;
             text1LData3.horizontalAlignment = GridData.FILL;
@@ -429,8 +454,7 @@
             textMiddleName.setLayoutData(text1LData3);
         }
         {
-            labelSalutation = new Label(groupCustomerDetail,
-                    SWT.NONE);
+            labelSalutation = new Label(groupCustomerDetail, SWT.NONE);
             labelSalutation.setText(l
                     .getString(&quot;Customer.groupdetail.salutationlabel&quot;)
                     + &quot;:&quot;);
@@ -441,8 +465,8 @@
             labelSalutation.setLayoutData(label1LData1);
         }
         {
-            textSalutation = new Text(groupCustomerDetail,
-                    SWT.READ_ONLY | SWT.BORDER);
+            textSalutation = new Text(groupCustomerDetail, SWT.READ_ONLY
+                    | SWT.BORDER);
             GridData text1LData3 = new GridData();
             text1LData3.horizontalAlignment = GridData.FILL;
             text1LData3.heightHint = 13;
@@ -450,10 +474,8 @@
             textSalutation.setLayoutData(text1LData3);
         }
         {
-            labelTitle = new Label(groupCustomerDetail,
-                    SWT.NONE);
-            labelTitle.setText(l
-                    .getString(&quot;Customer.groupdetail.titlelabel&quot;)
+            labelTitle = new Label(groupCustomerDetail, SWT.NONE);
+            labelTitle.setText(l.getString(&quot;Customer.groupdetail.titlelabel&quot;)
                     + &quot;:&quot;);
             labelTitle.setSize(70, 15);
             GridData label1LData1 = new GridData();
@@ -462,8 +484,8 @@
             labelTitle.setLayoutData(label1LData1);
         }
         {
-            textTitle = new Text(groupCustomerDetail,
-                    SWT.READ_ONLY | SWT.BORDER);
+            textTitle = new Text(groupCustomerDetail, SWT.READ_ONLY
+                    | SWT.BORDER);
             GridData text1LData3 = new GridData();
             text1LData3.horizontalAlignment = GridData.FILL;
             text1LData3.heightHint = 13;
@@ -471,8 +493,7 @@
             textTitle.setLayoutData(text1LData3);
         }
         {
-            labelBirthday = new Label(groupCustomerDetail,
-                    SWT.NONE);
+            labelBirthday = new Label(groupCustomerDetail, SWT.NONE);
             labelBirthday.setText(l
                     .getString(&quot;Customer.groupdetail.birthdaylabel&quot;)
                     + &quot;:&quot;);
@@ -483,8 +504,8 @@
             labelBirthday.setLayoutData(label1LData1);
         }
         {
-            textBirthday = new Text(groupCustomerDetail,
-                    SWT.READ_ONLY | SWT.BORDER);
+            textBirthday = new Text(groupCustomerDetail, SWT.READ_ONLY
+                    | SWT.BORDER);
             GridData text1LData3 = new GridData();
             text1LData3.horizontalAlignment = GridData.FILL;
             text1LData3.heightHint = 13;
@@ -494,39 +515,56 @@
         }
         {
             changeBirthdayDateButton = new Button(groupCustomerDetail, SWT.PUSH
-                | SWT.CENTER);
-            changeBirthdayDateButton.setText(l.getString(&quot;Customer.groupdetail.birthdaybuttonchange&quot;));
+                    | SWT.CENTER);
+            changeBirthdayDateButton.setText(l
+                    .getString(&quot;Customer.groupdetail.birthdaybuttonchange&quot;));
             GridData text1LData3 = new GridData();
             changeBirthdayDateButton.setEnabled(false);
-            changeBirthdayDateButton.addSelectionListener(new SelectionAdapter() {
-                public void widgetSelected(SelectionEvent evt) {
+            changeBirthdayDateButton
+                    .addSelectionListener(new SelectionAdapter() {
+                        public void widgetSelected(SelectionEvent evt) {
 
-                    final SWTCalendarDialog cal = new SWTCalendarDialog(getDisplay(),l.getString(&quot;Customer.groupdetail.birthdaybuttonfinish&quot;));
+                            final SWTCalendarDialog cal = new SWTCalendarDialog(
+                                    getDisplay(),
+                                    l
+                                            .getString(&quot;Customer.groupdetail.birthdaybuttonfinish&quot;));
 
-                    cal.addDateChangedListener(new SWTCalendarListener() {
+                            cal
+                                    .addDateChangedListener(new SWTCalendarListener() {
 
-                        public void dateChanged(SWTCalendarEvent calendarEvent) {
-                            String date;
-                            date = Util.getTextByDate(calendarEvent.getCalendar(), &quot;dd.MM.yyyy&quot;);
-                            textBirthday.setText(date);                     
+                                        public void dateChanged(
+                                                SWTCalendarEvent cE) {
+                                            textBirthday
+                                                    .setText(DateFormat
+                                                            .getDateInstance(
+                                                                    DateFormat.LONG)
+                                                            .format(
+                                                                    cE
+                                                                            .getCalendar()
+                                                                            .getTime()));
+                                        }
+                                    });
+                            if (textBirthday.getText() != null
+                                    &amp;&amp; textBirthday.getText().length() &gt; 0) {
+
+                                try {
+                                    cal.setDate(DateFormat.getDateInstance(
+                                            DateFormat.LONG).parse(
+                                            textBirthday.getText()));
+                                } catch (ParseException e) {
+                                    cal.setDate(new Date());
+                                }
+                            }
+                            cal.open();
                         }
                     });
-                    if (textBirthday.getText() != null &amp;&amp; textBirthday.getText().length() &gt; 0) {
-                        Date date = Util.getDateByText(textBirthday.getText(), &quot;dd.MM.yyyy&quot;).getTime();
-                        cal.setDate(date);
-                    }
-                    cal.open();                                                          
-                }
-            });
-            text1LData3.horizontalAlignment = GridData.FILL;          
+            text1LData3.horizontalAlignment = GridData.FILL;
             text1LData3.horizontalSpan = 1;
             changeBirthdayDateButton.setLayoutData(text1LData3);
         }
         {
-            labelStreet = new Label(groupCustomerDetail,
-                    SWT.NONE);
-            labelStreet.setText(l
-                    .getString(&quot;Customer.groupdetail.streetlabel&quot;)
+            labelStreet = new Label(groupCustomerDetail, SWT.NONE);
+            labelStreet.setText(l.getString(&quot;Customer.groupdetail.streetlabel&quot;)
                     + &quot;:&quot;);
             labelStreet.setSize(90, 15);
             GridData label1LData1 = new GridData();
@@ -535,8 +573,8 @@
             labelStreet.setLayoutData(label1LData1);
         }
         {
-            textStreet = new Text(groupCustomerDetail,
-                    SWT.READ_ONLY | SWT.BORDER);
+            textStreet = new Text(groupCustomerDetail, SWT.READ_ONLY
+                    | SWT.BORDER);
             GridData text1LData3 = new GridData();
             text1LData3.horizontalAlignment = GridData.FILL;
             text1LData3.heightHint = 13;
@@ -544,8 +582,8 @@
             textStreet.setLayoutData(text1LData3);
         }
         {
-            textNumber = new Text(groupCustomerDetail,
-                    SWT.READ_ONLY | SWT.BORDER);
+            textNumber = new Text(groupCustomerDetail, SWT.READ_ONLY
+                    | SWT.BORDER);
             GridData text1LData3 = new GridData();
             text1LData3.horizontalAlignment = GridData.END;
             text1LData3.heightHint = 13;
@@ -553,8 +591,7 @@
             textNumber.setLayoutData(text1LData3);
         }
         {
-            labelZipCode = new Label(groupCustomerDetail,
-                    SWT.NONE);
+            labelZipCode = new Label(groupCustomerDetail, SWT.NONE);
             labelZipCode.setText(l
                     .getString(&quot;Customer.groupdetail.zipcodelabel&quot;)
                     + &quot;:&quot;);
@@ -565,8 +602,8 @@
             labelZipCode.setLayoutData(label1LData1);
         }
         {
-            textZipCode = new Text(groupCustomerDetail,
-                    SWT.READ_ONLY | SWT.BORDER);
+            textZipCode = new Text(groupCustomerDetail, SWT.READ_ONLY
+                    | SWT.BORDER);
             GridData text1LData3 = new GridData();
             text1LData3.horizontalAlignment = GridData.FILL;
             text1LData3.heightHint = 13;
@@ -574,10 +611,8 @@
             textZipCode.setLayoutData(text1LData3);
         }
         {
-            labelCity = new Label(groupCustomerDetail,
-                    SWT.NONE);
-            labelCity.setText(l
-                    .getString(&quot;Customer.groupdetail.citylabel&quot;)
+            labelCity = new Label(groupCustomerDetail, SWT.NONE);
+            labelCity.setText(l.getString(&quot;Customer.groupdetail.citylabel&quot;)
                     + &quot;:&quot;);
             labelCity.setSize(70, 15);
             GridData label1LData1 = new GridData();
@@ -586,18 +621,16 @@
             labelCity.setLayoutData(label1LData1);
         }
         {
-            textCity = new Text(groupCustomerDetail,
-                    SWT.READ_ONLY | SWT.BORDER);
+            textCity = new Text(groupCustomerDetail, SWT.READ_ONLY | SWT.BORDER);
             GridData text1LData3 = new GridData();
             text1LData3.horizontalAlignment = GridData.FILL;
             text1LData3.heightHint = 13;
             text1LData3.horizontalSpan = 1;
             textCity.setLayoutData(text1LData3);
         }
-        
+
         {
-            labelCountry = new Label(groupCustomerDetail,
-                    SWT.NONE);
+            labelCountry = new Label(groupCustomerDetail, SWT.NONE);
             labelCountry.setText(l
                     .getString(&quot;Customer.groupdetail.countrylabel&quot;)
                     + &quot;:&quot;);
@@ -608,8 +641,8 @@
             labelCountry.setLayoutData(label1LData1);
         }
         {
-            textCountry = new Text(groupCustomerDetail,
-                    SWT.READ_ONLY | SWT.BORDER);
+            textCountry = new Text(groupCustomerDetail, SWT.READ_ONLY
+                    | SWT.BORDER);
             GridData text1LData3 = new GridData();
             text1LData3.horizontalAlignment = GridData.FILL;
             text1LData3.heightHint = 13;
@@ -617,8 +650,7 @@
             textCountry.setLayoutData(text1LData3);
         }
         {
-            labelPassword = new Label(groupCustomerDetail,
-                    SWT.NONE);
+            labelPassword = new Label(groupCustomerDetail, SWT.NONE);
             labelPassword.setText(l
                     .getString(&quot;Customer.groupdetail.passwordlabel&quot;)
                     + &quot;:&quot;);
@@ -629,8 +661,8 @@
             labelPassword.setLayoutData(label1LData1);
         }
         {
-            textPassword = new Text(groupCustomerDetail,
-                    SWT.READ_ONLY | SWT.BORDER);
+            textPassword = new Text(groupCustomerDetail, SWT.READ_ONLY
+                    | SWT.BORDER);
             GridData text1LData3 = new GridData();
             text1LData3.horizontalAlignment = GridData.FILL;
             text1LData3.heightHint = 13;
@@ -638,10 +670,8 @@
             textPassword.setLayoutData(text1LData3);
         }
         {
-            labelEmail = new Label(groupCustomerDetail,
-                    SWT.NONE);
-            labelEmail.setText(l
-                    .getString(&quot;Customer.groupdetail.emaillabel&quot;)
+            labelEmail = new Label(groupCustomerDetail, SWT.NONE);
+            labelEmail.setText(l.getString(&quot;Customer.groupdetail.emaillabel&quot;)
                     + &quot;:&quot;);
             labelEmail.setSize(90, 15);
             GridData label1LData1 = new GridData();
@@ -650,8 +680,8 @@
             labelEmail.setLayoutData(label1LData1);
         }
         {
-            textEmail = new Text(groupCustomerDetail,
-                    SWT.READ_ONLY | SWT.BORDER);
+            textEmail = new Text(groupCustomerDetail, SWT.READ_ONLY
+                    | SWT.BORDER);
             GridData text1LData3 = new GridData();
             text1LData3.horizontalAlignment = GridData.FILL;
             text1LData3.heightHint = 13;
@@ -659,8 +689,7 @@
             textEmail.setLayoutData(text1LData3);
         }
         {
-            labelQuestion = new Label(groupCustomerDetail,
-                    SWT.NONE);
+            labelQuestion = new Label(groupCustomerDetail, SWT.NONE);
             labelQuestion.setText(l
                     .getString(&quot;Customer.groupdetail.questionlabel&quot;)
                     + &quot;:&quot;);
@@ -671,8 +700,8 @@
             labelQuestion.setLayoutData(label1LData1);
         }
         {
-            textQuestion = new Text(groupCustomerDetail,
-                    SWT.READ_ONLY | SWT.BORDER);
+            textQuestion = new Text(groupCustomerDetail, SWT.READ_ONLY
+                    | SWT.BORDER);
             GridData text1LData3 = new GridData();
             text1LData3.horizontalAlignment = GridData.FILL;
             text1LData3.heightHint = 13;
@@ -680,10 +709,8 @@
             textQuestion.setLayoutData(text1LData3);
         }
         {
-            labelAnswer = new Label(groupCustomerDetail,
-                    SWT.NONE);
-            labelAnswer.setText(l
-                    .getString(&quot;Customer.groupdetail.answerlabel&quot;)
+            labelAnswer = new Label(groupCustomerDetail, SWT.NONE);
+            labelAnswer.setText(l.getString(&quot;Customer.groupdetail.answerlabel&quot;)
                     + &quot;:&quot;);
             labelAnswer.setSize(90, 15);
             GridData label1LData1 = new GridData();
@@ -692,17 +719,16 @@
             labelAnswer.setLayoutData(label1LData1);
         }
         {
-            textAnswer = new Text(groupCustomerDetail,
-                    SWT.READ_ONLY | SWT.BORDER);
+            textAnswer = new Text(groupCustomerDetail, SWT.READ_ONLY
+                    | SWT.BORDER);
             GridData text1LData3 = new GridData();
             text1LData3.horizontalAlignment = GridData.FILL;
             text1LData3.heightHint = 13;
             text1LData3.horizontalSpan = 3;
             textAnswer.setLayoutData(text1LData3);
-        }       
+        }
         {
-            labelRegistrationDate = new Label(groupCustomerDetail,
-                    SWT.NONE);
+            labelRegistrationDate = new Label(groupCustomerDetail, SWT.NONE);
             labelRegistrationDate.setText(l
                     .getString(&quot;Customer.groupdetail.regdatelabel&quot;)
                     + &quot;:&quot;);
@@ -714,8 +740,8 @@
             labelRegistrationDate.setLayoutData(label1LData1);
         }
         {
-            textRegistrationDate = new Text(groupCustomerDetail,
-                    SWT.READ_ONLY | SWT.BORDER);
+            textRegistrationDate = new Text(groupCustomerDetail, SWT.READ_ONLY
+                    | SWT.BORDER);
             GridData text1LData3 = new GridData();
             text1LData3.horizontalAlignment = GridData.FILL;
             text1LData3.heightHint = 13;
@@ -724,48 +750,54 @@
             textRegistrationDate.setEnabled(false);
         }
         {
-            changeRegistrationDateButton = new Button(groupCustomerDetail, SWT.PUSH
-                | SWT.CENTER);
-            changeRegistrationDateButton.setText(l.getString(&quot;Customer.groupdetail.registrationdatebuttonchange&quot;));
+            changeRegistrationDateButton = new Button(groupCustomerDetail,
+                    SWT.PUSH | SWT.CENTER);
+            changeRegistrationDateButton
+                    .setText(l
+                            .getString(&quot;Customer.groupdetail.registrationdatebuttonchange&quot;));
             GridData text1LData3 = new GridData();
             changeRegistrationDateButton.setEnabled(false);
-            changeRegistrationDateButton.addSelectionListener(new SelectionAdapter() {
-                public void widgetSelected(SelectionEvent evt) {
+            changeRegistrationDateButton
+                    .addSelectionListener(new SelectionAdapter() {
+                        public void widgetSelected(SelectionEvent evt) {
 
-                    final SWTCalendarDialog cal = new SWTCalendarDialog(getDisplay(),l.getString(&quot;Customer.groupdetail.registrationdatebuttonfinish&quot;));
+                            final SWTCalendarDialog cal = new SWTCalendarDialog(
+                                    getDisplay(),
+                                    l
+                                            .getString(&quot;Customer.groupdetail.registrationdatebuttonfinish&quot;));
 
-                    cal.addDateChangedListener(new SWTCalendarListener() {
+                            cal
+                                    .addDateChangedListener(new SWTCalendarListener() {
 
-                        public void dateChanged(SWTCalendarEvent calendarEvent) {
-                            textRegistrationDate.setText(DateFormat.getDateInstance(
-                                    DateFormat.LONG).format(
-                                    calendarEvent.getCalendar().getTime()));
+                                        public void dateChanged(
+                                                SWTCalendarEvent calendarEvent) {
+                                            textRegistrationDate
+                                                    .setText(DateFormat
+                                                            .getDateInstance(
+                                                                    DateFormat.LONG)
+                                                            .format(
+                                                                    calendarEvent
+                                                                            .getCalendar()
+                                                                            .getTime()));
 
-                            
-                            /*
-                            String date = null;
-                            date = Util.getTextByDate(calendarEvent.getCalendar(), &quot;dd.MM.yyyy&quot;);
-                            textRegistrationDate.setText(date);
-                            */                          
+                                        }
+                                    });
+                            if (textRegistrationDate.getText() != null
+                                    &amp;&amp; textRegistrationDate.getText().length() &gt; 0) {
+
+                                try {
+                                    cal.setDate(DateFormat.getDateInstance(
+                                            DateFormat.LONG).parse(
+                                            textRegistrationDate.getText()));
+                                } catch (ParseException e) {
+                                    cal.setDate(new Date());
+                                }
+                            }
+                            cal.open();
                         }
                     });
-                    if (textRegistrationDate.getText() != null &amp;&amp; textRegistrationDate.getText().length() &gt; 0) {
-                        Date date;
-                        try {
-                            date = DateFormat.getDateInstance(DateFormat.LONG)
-                            .parse(textRegistrationDate.getText());
-                        } catch (ParseException e) {
-                            // TODO Auto-generated catch block
-                            e.printStackTrace();
-                            return;
-                        }
-                        cal.setDate(date);
-                    }
-                    cal.open();                                                          
-                }
-            });
             text1LData3.horizontalAlignment = GridData.FILL;
-            
+
             text1LData3.horizontalSpan = 1;
             changeRegistrationDateButton.setLayoutData(text1LData3);
         }
@@ -791,17 +823,15 @@
 
         }
 
-        
     }
 
     /**
-     * 
+     *  
      */
     private void initCustomerDetailButtons() {
         buttonCustomerNew = new Button(compositeButtons, SWT.PUSH | SWT.CENTER);
         buttonCustomerNew.setText(l.getString(&quot;button.new&quot;));
         buttonCustomerNew.addSelectionListener(new SelectionAdapter() {
-            
 
             public void widgetSelected(SelectionEvent evt) {
 
@@ -823,8 +853,6 @@
                 textQuestion.setText(&quot;&quot;);
                 textAnswer.setText(&quot;&quot;);
                 textRegistrationDate.setText(&quot;&quot;);
-                
-                
 
                 textUserName.setEditable(true);
                 textLastName.setEditable(true);
@@ -843,15 +871,13 @@
                 textQuestion.setEditable(true);
                 textAnswer.setEditable(true);
                 changeRegistrationDateButton.setEnabled(true);
-                
-                
+
                 buttonCustomerCancel.setEnabled(true);
                 buttonCustomerSave.setEnabled(true);
                 buttonCustomerNew.setEnabled(false);
                 buttonCustomerEdit.setEnabled(false);
                 buttonCustomerDelete.setEnabled(false);
-                
-                
+
                 textCustomerSearch.setEditable(false);
                 tableCustomer.setEnabled(false);
 
@@ -890,43 +916,47 @@
                 buttonCustomerSave.setEnabled(true);
                 buttonCustomerDelete.setEnabled(false);
                 buttonCustomerEdit.setEnabled(false);
-                
-                
 
             }
         });
 
-        buttonCustomerDelete = new Button(compositeButtons, SWT.PUSH | SWT.CENTER);
+        buttonCustomerDelete = new Button(compositeButtons, SWT.PUSH
+                | SWT.CENTER);
         buttonCustomerDelete.setText(l.getString(&quot;button.delete&quot;));
         buttonCustomerDelete.setEnabled(false);
         buttonCustomerDelete.addSelectionListener(new SelectionAdapter() {
             public void widgetSelected(SelectionEvent evt) {
-                System.out
-                        .println(&quot;buttonCustomerDelete.widgetSelected, event=&quot;
-                                + evt);
-                
-                
-               String msg = MessageFormat.format(
-                       l.getString(&quot;Customer.groupdetail.deletebutton.question.text&quot;),
-                               new Object[]{textUserName.getText()});
-                
-               int question = showMsg(msg,
-                       l.getString(&quot;Customer.groupdetail.deletebutton.question.header&quot;), 
-                       SWT.ICON_QUESTION | SWT.YES | SWT.NO);
-               
-               if (question != SWT.YES){
-                   return;
-               }
+                if (logger.isDebugEnabled()) {
+                    logger
+                            .debug(&quot;widgetSelected(SelectionEvent) - buttonCustomerDelete.widgetSelected, event=&quot;
+                                    + evt);
+                }
+
+                String msg = MessageFormat
+                        .format(
+                                l
+                                        .getString(&quot;Customer.groupdetail.deletebutton.question.text&quot;),
+                                new Object[] { textUserName.getText() });
+
+                int question = showMsg(
+                        msg,
+                        l
+                                .getString(&quot;Customer.groupdetail.deletebutton.question.header&quot;),
+                        SWT.ICON_QUESTION | SWT.YES | SWT.NO);
+
+                if (question != SWT.YES) {
+                    return;
+                }
                 try {
-	                
+
                     //object l&#246;schen
                     // Fehlerbehandlung
-	                
-	                Database.deleteObject(localCustomer);
-	                
+
+                    Database.deleteObject(localCustomer);
+
                     //&#220;bersichtsTabelle aktualisieren
                     refreshCustomerTable(textCustomerSearch.getText());
-                    
+
                     //Detailansicht leeren
                     textCustomerID.setText(&quot;&quot;);
                     textUserName.setText(&quot;&quot;);
@@ -948,41 +978,56 @@
                     textRegistrationDate.setText(&quot;&quot;);
                     buttonCustomerEdit.setEnabled(false);
                     buttonCustomerDelete.setEnabled(false);
-                    
+
                     try {
                         tableCustomer.deselectAll();
-                    } catch (Exception ex) {}
-                    
-                    //Statusline Nachricht sezten
-                    statusLine.setStatus(1,l.getString(&quot;Customer.groupdetail.deletebutton.newok&quot;));
+                    } catch (Exception ex) {
+                    }
 
+                    //Statusline Nachricht setzen
+                    statusLine
+                            .setStatus(
+                                    1,
+                                    l
+                                            .getString(&quot;Customer.groupdetail.deletebutton.newok&quot;));
+
                 } catch (DataBaseException e) {
                     if (e.getMessage().equalsIgnoreCase(&quot;1&quot;)) {
                         //Fehler beim Speichern des Objectes
 
-                        statusLine.setStatus(3,l.getString(&quot;Customer.groupdetail.deletebutton.errorsave&quot;));
-                        showMsg(l.getString(&quot;Customer.groupdetail.deletebutton.errorsave&quot;),
+                        statusLine
+                                .setStatus(
+                                        3,
+                                        l
+                                                .getString(&quot;Customer.groupdetail.deletebutton.errorsave&quot;));
+                        showMsg(
+                                l
+                                        .getString(&quot;Customer.groupdetail.deletebutton.errorsave&quot;),
                                 l.getString(&quot;error&quot;), SWT.ICON_ERROR | SWT.OK);
-                        
+
                     } else if (e.getMessage().equalsIgnoreCase(&quot;2&quot;)) {
                         //fehler beim db aufbau
-                        statusLine.setStatus(3,l.getString(&quot;Customer.groupdetail.deletebutton.errordb&quot;));
-                        showMsg(l.getString(&quot;Customer.groupdetail.deletebutton.errordb&quot;),
+                        statusLine
+                                .setStatus(
+                                        3,
+                                        l
+                                                .getString(&quot;Customer.groupdetail.deletebutton.errordb&quot;));
+                        showMsg(
+                                l
+                                        .getString(&quot;Customer.groupdetail.deletebutton.errordb&quot;),
                                 l.getString(&quot;error&quot;), SWT.ICON_ERROR | SWT.OK);
-                        
+
                     } else {
                         //@todo
-                        e.printStackTrace();
+                        logger.error(&quot;widgetSelected(SelectionEvent)&quot;, e);
                     }
-                    
-                }                
-                
 
                 }
 
             }
-        );
 
+        });
+
         //leerer nicht sichtbarer Button
         buttonCustomerFill = new Button(compositeButtons, SWT.PUSH | SWT.CENTER);
         GridData buttonCustomerFillLData = new GridData();
@@ -997,227 +1042,278 @@
         buttonCustomerSave.setEnabled(false);
         buttonCustomerSave.addSelectionListener(new SelectionAdapter() {
             public void widgetSelected(SelectionEvent evt) {
-    
-                //testen ob duration leer ist
-                if (   textUserName.getText().trim().equalsIgnoreCase(&quot;&quot;) ||
-                       textLastName.getText().trim().equalsIgnoreCase(&quot;&quot;) || 
-                       textFirstName.getText().trim().equalsIgnoreCase(&quot;&quot;) || 
-                       textStreet.getText().trim().equalsIgnoreCase(&quot;&quot;) ||
-                       textNumber.getText().trim().equalsIgnoreCase(&quot;&quot;) || 
-                       textZipCode.getText().trim().equalsIgnoreCase(&quot;&quot;) ||
-                       textCity.getText().trim().equalsIgnoreCase(&quot;&quot;) ||
-                       textCountry.getText().trim().equalsIgnoreCase(&quot;&quot;) || 
-                       textEmail.getText().trim().equalsIgnoreCase(&quot;&quot;) ||
-                       textQuestion.getText().trim().equalsIgnoreCase(&quot;&quot;) ||
-                       textAnswer.getText().trim().equalsIgnoreCase(&quot;&quot;)) {
-                    
-                    showMsg(l.getString(&quot;Customer.groupdetail.savebutton.warn.noname.msg&quot;),
-                            l.getString(&quot;Customer.groupdetail.savebutton.warn.noname.title&quot;),
+
+                List errors = validateInput();
+
+                if (errors.size() &gt; 0) {
+                    StringBuffer buf = new StringBuffer();
+
+                    for (int i = 0; i &lt; errors.size(); i++) {
+                        buf.append(&quot;- &quot;).append(errors.get(i)).append(&quot;\n&quot;);
+                    }
+
+                    showMsg(
+                            l
+                                    .getString(&quot;Customer.groupdetail.savebutton.warn.noitems.msg&quot;)
+                                    + new String(buf),
+                            l
+                                    .getString(&quot;Customer.groupdetail.savebutton.warn.noitems.title&quot;),
                             SWT.ICON_WARNING | SWT.YES);
+                    return;
 
-                    	return;
                 }
-                
+
                 buttonCustomerEdit.setEnabled(false);
                 buttonCustomerDelete.setEnabled(false);
-                
+
                 //testen welcher mode
-                
+
                 if (mode_Customer == ManagementGui.MODE_ADD) {
-                    
+
                     /**
-                     * @todo eine Exception bekommen wieder leider NOCH nicht mit
-                     * d.h. es muss noch ein r&#252;ckgabewert kommen oder eine Exception 
-                     * &#252;bermitteln werden (aus der DB Klasse)
+                     * @todo eine Exception bekommen wieder leider NOCH nicht
+                     *       mit d.h. es muss noch ein r&#252;ckgabewert kommen oder
+                     *       eine Exception &#252;bermitteln werden (aus der DB
+                     *       Klasse)
                      */
-	                    
-                    try {	
-                        
-                    	//neues Objekt erzeugen
+
+                    try {
+
+                        //neues Objekt erzeugen
                         Customer o = new Customer();
-    	                Person p = new Person();
-    	                o.setUserName(textUserName.getText());
-    	                
-    	                /*
-    	                Date regdate = null;
-    	                if (textRegistrationDate.getText() != &quot;&quot;) {
-    	                    regdate = Util.getDateByText(textRegistrationDate.getText(), &quot;dd.MM.yyyy&quot;).getTime();
-    	                }   	          
-    	                o.setDayOfRegistration(regdate);
-    	                */
-    	                Calendar cal = Calendar.getInstance();
-    	                cal.setTime(DateFormat.getDateInstance(
+                        Person p = new Person();
+
+                        o.setUserName(textUserName.getText());
+                        Calendar cal = Calendar.getInstance();
+                        try {
+                            cal.setTime(DateFormat.getDateInstance(
                                     DateFormat.LONG).parse(
                                     textRegistrationDate.getText()));
-    	                o.setDayOfRegistration(cal);
-    	                
-    	                
-    	                
-    	                o.setUserPassword(textPassword.getText());
-    	                o.setHiddenQuestion(textQuestion.getText());
-    	                o.setHiddenAnswer(textAnswer.getText());
-    	                p.setLastName(textLastName.getText());
-    	                p.setFirstName(textFirstName.getText());
-    	                p.setMiddleName(textMiddleName.getText());
-    	                p.setSalutation(textSalutation.getText());
-    	                p.setTitle(textTitle.getText());
-    	                p.setStreet(textStreet.getText());
-    	                p.setStreetNumber(textNumber.getText());
-    	                p.setZipCode(textZipCode.getText());
-    	                p.setCity(textCity.getText());
-    	                p.setCountry(textCountry.getText());
-    	                p.setEmailAddress(textEmail.getText());
-    	                Calendar birthday = null;
-    	                if (textBirthday.getText() != &quot;&quot;) {
-    	                    birthday = Util.getDateByText(textRegistrationDate.getText(), &quot;dd.MM.yyyy&quot;);
-    	                }
-    	                p.setDayOfBirth(birthday);
-    	                o.setPerson(p);
-                                        
+                        } catch (ParseException pex) {
+                            logger
+                                    .warn(
+                                            &quot;Fehler beim Parsen des RegistrierungsDatum, wurde eigentlich vorher &#252;berpr&#252;ft&quot;,
+                                            pex);
+                            return;
+                        }
+                        o.setDayOfRegistration(cal);
+
+                        o.setUserPassword(textPassword.getText());
+                        o.setHiddenQuestion(textQuestion.getText());
+                        o.setHiddenAnswer(textAnswer.getText());
+                        p.setLastName(textLastName.getText());
+                        p.setFirstName(textFirstName.getText());
+                        p.setMiddleName(textMiddleName.getText());
+                        p.setSalutation(textSalutation.getText());
+                        p.setTitle(textTitle.getText());
+                        p.setStreet(textStreet.getText());
+                        p.setStreetNumber(textNumber.getText());
+                        p.setZipCode(textZipCode.getText());
+                        p.setCity(textCity.getText());
+                        p.setCountry(textCountry.getText());
+                        p.setEmailAddress(textEmail.getText());
+                        Calendar birthday = Calendar.getInstance();
+
+                        try {
+                            birthday.setTime(DateFormat.getDateInstance(
+                                    DateFormat.LONG).parse(
+                                    textBirthday.getText()));
+                        } catch (ParseException pex) {
+                            logger
+                                    .warn(
+                                            &quot;Fehler beim Parsen des GeburtsDatum, wurde eigentlich vorher &#252;berpr&#252;ft&quot;,
+                                            pex);
+                            return;
+                        }
+                        p.setDayOfBirth(birthday);
+                        o.setPerson(p);
+
                         //object speichern
-                        // Fehlerbehandlung 
+                        // Fehlerbehandlung
                         Object newCust = Database.saveObject(o);
-                        
-                        // in &#220;bersichtstabelle einf&#252;gen
-                        insertIntoCustomerTable((Customer)newCust);                        
-                                                
+
+                        //  &#220;bersichtstabelle aktualisieren
+                        refreshCustomerTable(&quot;&quot;);
+
                         //Statusline Nachricht sezten
-                        statusLine.setStatus(1,l.getString(&quot;Customer.groupdetail.savebutton.newok&quot;));
+                        statusLine
+                                .setStatus(
+                                        1,
+                                        l
+                                                .getString(&quot;Customer.groupdetail.savebutton.newok&quot;));
 
                     } catch (DataBaseException e) {
                         if (e.getMessage().equalsIgnoreCase(&quot;1&quot;)) {
                             //Fehler beim Speichern des Objectes
 
-                            statusLine.setStatus(3,l.getString(&quot;Customer.groupdetail.savebutton.errorsave&quot;));
-                            showMsg(l.getString(&quot;Customer.groupdetail.savebutton.errorsave&quot;),&quot;Fehler&quot;, SWT.ICON_ERROR | SWT.OK);
-                            
+                            statusLine
+                                    .setStatus(
+                                            3,
+                                            l
+                                                    .getString(&quot;Customer.groupdetail.savebutton.errorsave&quot;));
+                            showMsg(
+                                    l
+                                            .getString(&quot;Customer.groupdetail.savebutton.errorsave&quot;),
+                                    &quot;Fehler&quot;, SWT.ICON_ERROR | SWT.OK);
+
                         } else if (e.getMessage().equalsIgnoreCase(&quot;2&quot;)) {
                             //fehler beim db aufbau
-                            statusLine.setStatus(3,l.getString(&quot;Customer.groupdetail.savebutton.errordb&quot;));
-                            showMsg(l.getString(&quot;Customer.groupdetail.savebutton.errordb&quot;),&quot;Fehler&quot;, SWT.ICON_ERROR | SWT.OK);
-                            
+                            statusLine
+                                    .setStatus(
+                                            3,
+                                            l
+                                                    .getString(&quot;Customer.groupdetail.savebutton.errordb&quot;));
+                            showMsg(
+                                    l
+                                            .getString(&quot;Customer.groupdetail.savebutton.errordb&quot;),
+                                    &quot;Fehler&quot;, SWT.ICON_ERROR | SWT.OK);
+
                         } else {
                             //@todo
-                            e.printStackTrace();
+                            logger.error(&quot;widgetSelected(SelectionEvent)&quot;, e);
                         }
-                        
-                    } catch (ParseException pex){
-                        pex.printStackTrace();
                     }
-                    
-                    
-//                  alle Buttons auf aktiv setzen
+
+                    // alle Buttons auf aktiv setzen
                     setCustomerGroupButtonSaveCancel();
                     buttonCustomerDelete.setEnabled(false);
                     buttonCustomerEdit.setEnabled(false);
-                    
+
                 } else if (mode_Customer == ManagementGui.MODE_EDIT) {
                     try {
-                        logger.debug(&quot;LocalCustomer: &quot;+localCustomer);
-                        logger.debug(&quot;LocalPerson: &quot;+localCustomer.getPerson());
-                        //Customer o = localCustomer;
-    	                //Person p = o.getPerson();
-    	                
-    	                //o.setCustomerId(new Integer(Integer.parseInt(textCustomerID.getText())));
-    	                localCustomer.setUserName(textUserName.getText());
-    	                
-    	                
-    	                //localCustomer.setDayOfRegistration(Util.getDateByText(textRegistrationDate.getText(), &quot;dd.MM.yyyy&quot;).getTime());
-    	                
-    	                Calendar cal = Calendar.getInstance();
-    	                cal.setTime(DateFormat.getDateInstance(
+
+                        localCustomer.setUserName(textUserName.getText());
+
+                        Calendar cal = Calendar.getInstance();
+                        try {
+                            cal.setTime(DateFormat.getDateInstance(
                                     DateFormat.LONG).parse(
                                     textRegistrationDate.getText()));
-    	                localCustomer.setDayOfRegistration(cal);
+                        } catch (ParseException pex) {
+                            logger
+                                    .warn(
+                                            &quot;Fehler beim Parsen des RegistrierungsDatum, wurde eigentlich vorher &#252;berpr&#252;ft&quot;,
+                                            pex);
+                            return;
+                        }
+                        localCustomer.setDayOfRegistration(cal);
+                        localCustomer.setUserPassword(textPassword.getText());
+                        localCustomer.setHiddenQuestion(textQuestion.getText());
+                        localCustomer.setHiddenAnswer(textAnswer.getText());
 
-    	                
-    	                
-    	                
-    	                localCustomer.setUserPassword(textPassword.getText());
-    	                localCustomer.setHiddenQuestion(textQuestion.getText());
-    	                localCustomer.setHiddenAnswer(textAnswer.getText());
-    	                //p.setPersonId(localCustomer.getPerson().getPersonId());
-    	                /*
-    	                p.setLastName(textLastName.getText());
-    	                p.setFirstName(textFirstName.getText());
-    	                p.setMiddleName(textMiddleName.getText());
-    	                p.setSalutation(textSalutation.getText());
-    	                p.setTitle(textTitle.getText());
-    	                p.setStreet(textStreet.getText());
-    	                p.setStreetNumber(textNumber.getText());
-    	                p.setZipCode(textZipCode.getText());
-    	                p.setCity(textCity.getText());
-    	                p.setCountry(textCountry.getText());
-    	                p.setEmailAddress(textEmail.getText());
-    	                p.setDayOfBirth(Util.getDateByText(textBirthday.getText(), &quot;dd.MM.yyyy&quot;));
-    	                o.setPerson(p);
-	                */
-	                    //object speichern
-	                    // Fehlerbehandlung
-    	                logger.debug(&quot;Versuche edit zu speichern: &quot;+localCustomer);
-    	                
-	                    Database.updateObject(localCustomer);
-	                    //&#220;bersichtstabelle aktualisieren
-	                    refreshCustomerTable(textCustomerSearch.getText());
-	                    
-	                    //Statusline Nachricht sezten
-	                    statusLine.setStatus(1,l.getString(&quot;Customer.groupdetail.savebutton.editok&quot;));
-	                   
-	
-	                } catch (DataBaseException e) {
-	                    if (e.getMessage().equalsIgnoreCase(&quot;1&quot;)) {
-	                        //Fehler beim Speichern des Objectes
-	
-	                        statusLine.setStatus(3,l.getString(&quot;Customer.groupdetail.savebutton.errorsave&quot;));
-	                        showMsg(l.getString(&quot;Customer.groupdetail.savebutton.errorsave&quot;),&quot;Fehler&quot;, SWT.ICON_ERROR | SWT.OK);
-	                        
-	                    } else if (e.getMessage().equalsIgnoreCase(&quot;2&quot;)) {
-	                        //fehler beim db aufbau
-	                        statusLine.setStatus(3,l.getString(&quot;Customer.groupdetail.savebutton.errordb&quot;));
-	                        showMsg(l.getString(&quot;Customer.groupdetail.savebutton.errordb&quot;),&quot;Fehler&quot;, SWT.ICON_ERROR | SWT.OK);
-	                        
-	                    } else {
-	                        //@todo
-	                        e.printStackTrace();
-	                    }
-                    
-                    } catch (ParseException pex){
-                        pex.printStackTrace();
+                        localCustomer.getPerson().setLastName(
+                                textLastName.getText());
+                        localCustomer.getPerson().setFirstName(
+                                textFirstName.getText());
+                        localCustomer.getPerson().setMiddleName(
+                                textMiddleName.getText());
+                        localCustomer.getPerson().setSalutation(
+                                textSalutation.getText());
+                        localCustomer.getPerson().setTitle(textTitle.getText());
+                        localCustomer.getPerson().setStreet(
+                                textStreet.getText());
+                        localCustomer.getPerson().setStreetNumber(
+                                textNumber.getText());
+                        localCustomer.getPerson().setZipCode(
+                                textZipCode.getText());
+                        localCustomer.getPerson().setCity(textCity.getText());
+                        localCustomer.getPerson().setCountry(
+                                textCountry.getText());
+                        localCustomer.getPerson().setEmailAddress(
+                                textEmail.getText());
+                        Calendar birthday = Calendar.getInstance();
+
+                        try {
+                            birthday.setTime(DateFormat.getDateInstance(
+                                    DateFormat.LONG).parse(
+                                    textBirthday.getText()));
+                        } catch (ParseException pex) {
+                            logger
+                                    .warn(
+                                            &quot;Fehler beim Parsen des GeburtsDatum, wurde eigentlich vorher &#252;berpr&#252;ft&quot;,
+                                            pex);
+                            return;
+                        }
+                        localCustomer.getPerson().setDayOfBirth(birthday);
+
+                        Database.updateObject(localCustomer);
+                        //&#220;bersichtstabelle aktualisieren
+                        refreshCustomerTable(textCustomerSearch.getText());
+
+                        //Statusline Nachricht sezten
+                        statusLine
+                                .setStatus(
+                                        1,
+                                        l
+                                                .getString(&quot;Customer.groupdetail.savebutton.editok&quot;));
+
+                    } catch (DataBaseException e) {
+                        if (e.getMessage().equalsIgnoreCase(&quot;1&quot;)) {
+                            //Fehler beim Speichern des Objectes
+
+                            statusLine
+                                    .setStatus(
+                                            3,
+                                            l
+                                                    .getString(&quot;Customer.groupdetail.savebutton.errorsave&quot;));
+                            showMsg(
+                                    l
+                                            .getString(&quot;Customer.groupdetail.savebutton.errorsave&quot;),
+                                    &quot;Fehler&quot;, SWT.ICON_ERROR | SWT.OK);
+
+                        } else if (e.getMessage().equalsIgnoreCase(&quot;2&quot;)) {
+                            //fehler beim db aufbau
+                            statusLine
+                                    .setStatus(
+                                            3,
+                                            l
+                                                    .getString(&quot;Customer.groupdetail.savebutton.errordb&quot;));
+                            showMsg(
+                                    l
+                                            .getString(&quot;Customer.groupdetail.savebutton.errordb&quot;),
+                                    &quot;Fehler&quot;, SWT.ICON_ERROR | SWT.OK);
+
+                        } else {
+                            //@todo
+                            logger.error(&quot;widgetSelected(SelectionEvent)&quot;, e);
+                        }
+
                     }
-                    
+
                     //alle Buttons auf aktiv setzen
                     setCustomerGroupButtonSaveCancel();
                     buttonCustomerDelete.setEnabled(false);
                     buttonCustomerEdit.setEnabled(false);
                 }
-                
-                
-                
+
                 /**
                  * @todo Exception werfen, da nur die zwei Modes sein d&#252;rfen
                  */
-                
+
             }
         });
 
-        buttonCustomerCancel = new Button(compositeButtons, SWT.PUSH | SWT.CENTER);
+        buttonCustomerCancel = new Button(compositeButtons, SWT.PUSH
+                | SWT.CENTER);
         buttonCustomerCancel.setText(l.getString(&quot;button.cancel&quot;));
         buttonCustomerCancel.setEnabled(false);
         buttonCustomerCancel.addSelectionListener(new SelectionAdapter() {
             public void widgetSelected(SelectionEvent evt) {
-                System.out
-                        .println(&quot;buttonCustomerCancel.widgetSelected, event=&quot;
-                                + evt);
+                if (logger.isDebugEnabled()) {
+                    logger
+                            .debug(&quot;widgetSelected(SelectionEvent) - buttonCustomerCancel.widgetSelected, event=&quot;
+                                    + evt);
+                }
                 setCustomerGroupButtonSaveCancel();
             }
         });
-       
+
     }
 
     /**
-     * 
+     *  
      */
-    protected void setCustomerGroupButtonSaveCancel() {
+    private void setCustomerGroupButtonSaveCancel() {
         buttonCustomerSave.setEnabled(false);
         buttonCustomerCancel.setEnabled(false);
         buttonCustomerEdit.setEnabled(true);
@@ -1247,89 +1343,57 @@
 
         //CustomerSearch aktivieren
         textCustomerSearch.setEnabled(true);
-        
-    }
 
-    /**
-     * @param Customer
-     * @throws DataBaseException
-     */
-    protected void insertIntoCustomerTable(Customer customer) throws DataBaseException {
-        TableItem item = new TableItem(tableCustomer, SWT.NONE);
-        String birthday = &quot;&quot;;
-        if (customer.getPerson().getDayOfBirth() != null) {
-            birthday = Util.getTextByDate(customer.getPerson().getDayOfBirth(), &quot;dd.MM.yyyy&quot;);
-        }
-        String regdate = &quot;&quot;;
-        if (customer.getDayOfRegistration() != null) {
-            Calendar cal = Calendar.getInstance();
-            cal = (customer.getDayOfRegistration());
-            birthday = Util.getTextByDate(cal, &quot;dd.MM.yyyy&quot;);            
-        }
-        item.setText(new String[] { customer.getCustomerId() + &quot;&quot;, 
-                					customer.getUserName(), 
-                					customer.getPerson().getLastName(),
-                					customer.getPerson().getFirstName(),
-                					birthday,              					
-                					});
-        
-        tableCustomer.deselectAll();
-        refreshCustomerDetail(&quot;&quot;);
-        
-        try {
-            refreshCustomerTable(textCustomerSearch.getText());
-        } catch (DataBaseException e) {
-            // TODO Auto-generated catch block
-            e.printStackTrace();
-        }
     }
 
     /**
      * @param text
      * @throws DataBaseException
      */
-    protected void refreshCustomerTable(final String filter) throws DataBaseException {
+    private void refreshCustomerTable(final String filter)
+            throws DataBaseException {
+        if (logger.isDebugEnabled()) {
+            logger
+                    .debug(&quot;refreshCustomerTable(String) - Versuche nun CustomerListe zu refreshen. Filter: &quot;
+                            + filter);
+        }
         if (tableCustomer == null) {
-            System.out
-                    .println(&quot;Konnte Customertable nicht refreshen, da diese null ist!&quot;);
+            if (logger.isDebugEnabled()) {
+                logger
+                        .debug(&quot;refreshCustomerTable(String) - Konnte Customertable nicht refreshen, da diese null ist!&quot;);
+            }
             return;
         }
-        System.out.println(&quot;Versuche nun CustomerListe zu refreshen. Filter: &quot;
-                + filter);
+
         tableCustomer.removeAll();
         TableItem item;
         java.util.List Customerlist = Database.getCustomer(filter);
-        
+
         for (int i = 0; i &lt; Customerlist.size(); i++) {
 
             Customer o = (Customer) Customerlist.get(i);
-            
-            logger.debug(&quot;Customer &quot; + i + &quot; aus DB:&quot;+o+&quot; Person: &quot;+o.getPerson());
-            
+
             item = new TableItem(tableCustomer, SWT.NONE);
-            Calendar regdate = Calendar.getInstance();
-            regdate = (o.getDayOfRegistration());
-            String date = null;
-            if (o.getPerson().getDayOfBirth() == null) {
-                date = &quot;&quot;;
-            } else {
-                date = Util.getTextByDate(o.getPerson().getDayOfBirth(), &quot;dd.MM.yyyy&quot;);
+            String birthday = &quot;&quot;;
+            if (o.getPerson().getDayOfBirth() != null) {
+                birthday = DateFormat.getDateInstance(DateFormat.SHORT).format(
+                        o.getPerson().getDayOfBirth().getTime());
             }
-            item.setText(new String[] { o.getCustomerId() + &quot;&quot;, 
-                    					o.getUserName(), 
-                    					o.getPerson().getLastName(),
-                    					o.getPerson().getFirstName(),
-                    					date,
-                    					Util.getTextByDate(regdate, &quot;dd.MM.yyyy&quot;),              					
-                    					});
+            String regdate = &quot;&quot;;
+            if (o.getDayOfRegistration() != null) {
+                regdate = DateFormat.getDateInstance(DateFormat.SHORT).format(
+                        o.getDayOfRegistration().getTime());
+            }
+            item.setText(new String[] { o.getCustomerId() + &quot;&quot;,
+                    o.getUserName(), o.getPerson().getLastName(),
+                    o.getPerson().getFirstName(), birthday, regdate });
 
         }
 
-        
     }
 
     /**
-     * 
+     *  
      */
     private void initCustomerGroupOverview() {
         if (logger.isDebugEnabled()) {
@@ -1355,11 +1419,11 @@
         if (logger.isDebugEnabled()) {
             logger.debug(&quot;initCustomerGroupOverview() - end&quot;);
         }
-        
+
     }
 
     /**
-     * 
+     *  
      */
     private void initCustomerSearch() {
         if (logger.isDebugEnabled()) {
@@ -1389,7 +1453,7 @@
                     refreshCustomerTable(textCustomerSearch.getText());
                 } catch (DataBaseException e) {
                     // TODO Auto-generated catch block
-                    e.printStackTrace();
+                    logger.error(&quot;focusLost(FocusEvent)&quot;, e);
                 }
 
                 if (logger.isDebugEnabled()) {
@@ -1409,7 +1473,7 @@
                     refreshCustomerTable(textCustomerSearch.getText());
                 } catch (DataBaseException e1) {
                     // TODO Auto-generated catch block
-                    e1.printStackTrace();
+                    logger.error(&quot;handleEvent(Event)&quot;, e1);
                 }
 
                 if (logger.isDebugEnabled()) {
@@ -1423,16 +1487,14 @@
         text2LData.grabExcessHorizontalSpace = true;
         textCustomerSearch.setLayoutData(text2LData);
 
-
-
         if (logger.isDebugEnabled()) {
             logger.debug(&quot;initCustomerSearch() - end&quot;);
         }
-        
+
     }
 
     /**
-     * 
+     *  
      */
     private void initTableCustomer() {
         if (logger.isDebugEnabled()) {
@@ -1447,29 +1509,13 @@
 
         tableCustomer.addSelectionListener(new SelectionAdapter() {
             public void widgetSelected(SelectionEvent evt) {
-                if (logger.isDebugEnabled()) {
-                    logger.debug(&quot;widgetSelected(SelectionEvent evt = &quot;
-                        + evt
-                        + &quot;) - start&quot;);
-                }
 
                 int index = tableCustomer.getSelectionIndex();
 
-                System.out.println(&quot;Table select. id: &quot;
-                    + index
-                    + &quot; TableItem:&quot;
-                    + tableCustomer.getItem(index)
-                    + &quot; id: &quot;
-                    + tableCustomer.getItem(index).getText(0));
-
                 //es wurde ein Element aus Tabelle ausgewaehlt jetzt muss die
                 //Detailansicht aktualisiert werden
-                refreshCustomerDetail(tableCustomer.getItem(index)
-                    .getText(0));
+                refreshCustomerDetail(tableCustomer.getItem(index).getText(0));
 
-                if (logger.isDebugEnabled()) {
-                    logger.debug(&quot;widgetSelected(SelectionEvent) - end&quot;);
-                }
             }
         });
         table2LData.verticalAlignment = GridData.FILL;
@@ -1483,124 +1529,119 @@
         tableColumn = new TableColumn(tableCustomer, SWT.CENTER);
         tableColumn.setText(l.getString(&quot;Customer.groupoverview.columnid&quot;));
         tableColumn.setWidth(50);
-        
+
         tableColumn = new TableColumn(tableCustomer, SWT.CENTER);
-        tableColumn.setText(l.getString(&quot;Customer.groupoverview.columnusername&quot;));
+        tableColumn.setText(l
+                .getString(&quot;Customer.groupoverview.columnusername&quot;));
         tableColumn.setWidth(50);
 
         tableColumn = new TableColumn(tableCustomer, SWT.CENTER);
-        tableColumn.setText(l.getString(&quot;Customer.groupoverview.columnlastname&quot;));
+        tableColumn.setText(l
+                .getString(&quot;Customer.groupoverview.columnlastname&quot;));
         tableColumn.setWidth(70);
 
         tableColumn = new TableColumn(tableCustomer, SWT.CENTER);
-        tableColumn.setText(l.getString(&quot;Customer.groupoverview.columnfirstname&quot;));
+        tableColumn.setText(l
+                .getString(&quot;Customer.groupoverview.columnfirstname&quot;));
         tableColumn.setWidth(70);
-        
+
         tableColumn = new TableColumn(tableCustomer, SWT.CENTER);
-        tableColumn.setText(l.getString(&quot;Customer.groupoverview.columnbirthday&quot;));
+        tableColumn.setText(l
+                .getString(&quot;Customer.groupoverview.columnbirthday&quot;));
         tableColumn.setWidth(70);
         tableColumn = new TableColumn(tableCustomer, SWT.CENTER);
-        tableColumn.setText(l.getString(&quot;Customer.groupoverview.columnregdate&quot;));
+        tableColumn
+                .setText(l.getString(&quot;Customer.groupoverview.columnregdate&quot;));
         tableColumn.setWidth(70);
 
         if (logger.isDebugEnabled()) {
             logger.debug(&quot;initTableCustomer() - end&quot;);
         }
-        
+
     }
 
     /**
      * @param text
      */
-    protected void refreshCustomerDetail(final String id) {
+    private void refreshCustomerDetail(final String id) {
         if (!id.equals(&quot;&quot;) &amp;&amp; id != null) {
-	        Customer object;
-	        try {
-	            //since we only can get a String value from the table, we
-	            //need to convert this
-	            object = Database.getSingleCustomer(Integer.parseInt(id));
-	
-	            if (object == null) {
-	
-	                /*
-	                 * 
-	                 * @TODO Statusbar aktualiseren
-	                 */
-	                return;
-	            }
-	        } catch (Exception e) {
-	            //id ist keine Zahl
-	            return;
-	        }
-	        localCustomer = object;
-	        
-	        String temp = null;
-	        textCustomerID.setText(object.getCustomerId().toString());
-	        temp = object.getUserName();
-	        textUserName.setText(temp == null ? &quot;&quot; : temp);
-	        temp = object.getPerson().getLastName();
-	        textLastName.setText(temp == null ? &quot;&quot; : temp);
-	        temp = object.getPerson().getFirstName();
-	        textFirstName.setText(temp == null ? &quot;&quot; : temp);
-	        temp = object.getPerson().getMiddleName();
-	        textMiddleName.setText(temp == null ? &quot;&quot; : temp);
-	        temp = object.getPerson().getSalutation();
-	        textSalutation.setText(temp == null ? &quot;&quot; : temp);
-	        temp = object.getPerson().getTitle();
-	        textTitle.setText(temp == null ? &quot;&quot; : temp);
-	        temp = object.getPerson().getStreet();
-	        textStreet.setText(temp == null ? &quot;&quot; : temp);
-	        temp = object.getPerson().getStreetNumber();
-	        textNumber.setText(temp == null ? &quot;&quot; : temp);
-	        temp = object.getPerson().getCity();
-	        textCity.setText(temp == null ? &quot;&quot; : temp);
-	        temp = object.getPerson().getZipCode();
-	        textZipCode.setText(temp == null ? &quot;&quot; : temp);
-	        temp = object.getPerson().getCountry();
-	        textCountry.setText(temp == null ? &quot;&quot; : temp);
-	        temp = object.getUserPassword();
-	        textPassword.setText(temp == null ? &quot;&quot; : temp);
-	        temp = object.getPerson().getEmailAddress();
-	        textEmail.setText(temp == null ? &quot;&quot; : temp);
-	        temp = object.getHiddenQuestion();
-	        textQuestion.setText(temp == null ? &quot;&quot; : temp);
-	        temp = object.getHiddenAnswer();
-	        textAnswer.setText(temp == null ? &quot;&quot; : temp);
+            Customer object;
+            try {
+                //since we only can get a String value from the table, we
+                //need to convert this
+                object = Database.getSingleCustomer(Integer.parseInt(id));
 
+                if (object == null) {
 
+                    // @TODO Statusbar aktualiseren
+                    return;
+                }
+            } catch (Exception e) {
+                //id ist keine Zahl
+                return;
+            }
+            localCustomer = object;
+
+            String temp = null;
+            textCustomerID.setText(object.getCustomerId() + &quot;&quot;);
+
+            temp = object.getUserName();
+            textUserName.setText(temp == null ? &quot;&quot; : temp);
+            temp = object.getPerson().getLastName();
+            textLastName.setText(temp == null ? &quot;&quot; : temp);
+            temp = object.getPerson().getFirstName();
+            textFirstName.setText(temp == null ? &quot;&quot; : temp);
+            temp = object.getPerson().getMiddleName();
+            textMiddleName.setText(temp == null ? &quot;&quot; : temp);
+            temp = object.getPerson().getSalutation();
+            textSalutation.setText(temp == null ? &quot;&quot; : temp);
+            temp = object.getPerson().getTitle();
+            textTitle.setText(temp == null ? &quot;&quot; : temp);
+            temp = object.getPerson().getStreet();
+            textStreet.setText(temp == null ? &quot;&quot; : temp);
+            temp = object.getPerson().getStreetNumber();
+            textNumber.setText(temp == null ? &quot;&quot; : temp);
+            temp = object.getPerson().getCity();
+            textCity.setText(temp == null ? &quot;&quot; : temp);
+            temp = object.getPerson().getZipCode();
+            textZipCode.setText(temp == null ? &quot;&quot; : temp);
+            temp = object.getPerson().getCountry();
+            textCountry.setText(temp == null ? &quot;&quot; : temp);
+            temp = object.getUserPassword();
+            textPassword.setText(temp == null ? &quot;&quot; : temp);
+            temp = object.getPerson().getEmailAddress();
+            textEmail.setText(temp == null ? &quot;&quot; : temp);
+            temp = object.getHiddenQuestion();
+            textQuestion.setText(temp == null ? &quot;&quot; : temp);
+            temp = object.getHiddenAnswer();
+            textAnswer.setText(temp == null ? &quot;&quot; : temp);
+
             if (object.getPerson().getDayOfBirth() == null) {
                 textBirthday.setText(&quot;&quot;);
             } else {
-                
-                textBirthday.setText(DateFormat.getDateInstance(
-                        DateFormat.LONG).format(
+
+                textBirthday.setText(DateFormat
+                        .getDateInstance(DateFormat.LONG).format(
                                 object.getPerson().getDayOfBirth().getTime()));
 
-                
-                //date = Util.getTextByDate(object.getPerson().getDayOfBirth(), &quot;dd.MM.yyyy&quot;);
             }
-            
+
             if (object.getDayOfRegistration() == null) {
                 textRegistrationDate.setText(&quot;&quot;);
             } else {
                 textRegistrationDate.setText(DateFormat.getDateInstance(
                         DateFormat.LONG).format(
-                                object.getDayOfRegistration().getTime()));
-                /*
-                Calendar cal = Calendar.getInstance();
-                cal = (object.getDayOfRegistration());
-                regdate = Util.getTextByDate(cal, &quot;dd.MM.yyyy&quot;);
-                */
+                        object.getDayOfRegistration().getTime()));
+
             }
-            
-	        
-	        //Buttons zum l&#246;schen und editieren aktivieren
-	        
-	        buttonCustomerEdit.setEnabled(true);
-	        buttonCustomerDelete.setEnabled(true);
-	        
+
+            //Buttons zum l&#246;schen und editieren aktivieren
+
+            buttonCustomerEdit.setEnabled(true);
+            buttonCustomerDelete.setEnabled(true);
+
         } else {
-//          Detailansicht leeren
+            //          Detailansicht leeren
             textCustomerID.setText(&quot;&quot;);
             textUserName.setText(&quot;&quot;);
             textLastName.setText(&quot;&quot;);
@@ -1619,16 +1660,110 @@
             textQuestion.setText(&quot;&quot;);
             textAnswer.setText(&quot;&quot;);
             textRegistrationDate.setText(&quot;&quot;);
-            
+
             buttonCustomerEdit.setEnabled(false);
             buttonCustomerDelete.setEnabled(false);
         }
 
         //Mode auf view setzen
         mode_Customer = ManagementGui.MODE_VIEW;
-        
+
     }
 
-	
+    private List validateInput() {
 
-}
+        List errors = new ArrayList();
+
+        //testen ob duration leer ist;
+        if (textUserName.getText().trim().equalsIgnoreCase(&quot;&quot;)) {
+            errors
+                    .add(l
+                            .getString(&quot;Customer.groupdetail.savebutton.warn.nousername&quot;));
+        }
+        if (textLastName.getText().trim().equalsIgnoreCase(&quot;&quot;)) {
+            errors
+                    .add(l
+                            .getString(&quot;Customer.groupdetail.savebutton.warn.nolastname&quot;));
+        }
+        if (textFirstName.getText().trim().equalsIgnoreCase(&quot;&quot;)) {
+            errors
+                    .add(l
+                            .getString(&quot;Customer.groupdetail.savebutton.warn.nofirstname&quot;));
+        }
+        if (textStreet.getText().trim().equalsIgnoreCase(&quot;&quot;)) {
+            errors
+                    .add(l
+                            .getString(&quot;Customer.groupdetail.savebutton.warn.nostreet&quot;));
+        }
+        if (textNumber.getText().trim().equalsIgnoreCase(&quot;&quot;)) {
+            errors
+                    .add(l
+                            .getString(&quot;Customer.groupdetail.savebutton.warn.nonumber&quot;));
+        }
+        if (textZipCode.getText().trim().equalsIgnoreCase(&quot;&quot;)) {
+            errors
+                    .add(l
+                            .getString(&quot;Customer.groupdetail.savebutton.warn.nozipcode&quot;));
+        }
+        if (textCity.getText().trim().equalsIgnoreCase(&quot;&quot;)) {
+            errors.add(l
+                    .getString(&quot;Customer.groupdetail.savebutton.warn.nocity&quot;));
+        }
+        if (textCountry.getText().trim().equalsIgnoreCase(&quot;&quot;)) {
+            errors
+                    .add(l
+                            .getString(&quot;Customer.groupdetail.savebutton.warn.nocountry&quot;));
+        }
+        if (textEmail.getText().trim().equalsIgnoreCase(&quot;&quot;)) {
+            errors.add(l
+                    .getString(&quot;Customer.groupdetail.savebutton.warn.noemail&quot;));
+        }
+        if (textQuestion.getText().trim().equalsIgnoreCase(&quot;&quot;)) {
+            errors
+                    .add(l
+                            .getString(&quot;Customer.groupdetail.savebutton.warn.noquestion&quot;));
+        }
+        if (textAnswer.getText().trim().equalsIgnoreCase(&quot;&quot;)) {
+            errors
+                    .add(l
+                            .getString(&quot;Customer.groupdetail.savebutton.warn.noanswer&quot;));
+        }
+        if (textRegistrationDate.getText().trim().equalsIgnoreCase(&quot;&quot;)) {
+            errors
+                    .add(l
+                            .getString(&quot;Customer.groupdetail.savebutton.warn.noregistrationdate&quot;));
+        } else {
+
+            try {
+                DateFormat.getDateInstance(DateFormat.LONG).parse(
+                        textRegistrationDate.getText());
+            } catch (ParseException e) {
+                //konnte Datum nicht parsen,also falsches Format = Fehlereingabe
+                errors
+                        .add(l
+                                .getString(&quot;Customer.groupdetail.savebutton.warn.noregistrationdate&quot;));
+            }
+
+        }
+        if (textBirthday.getText().trim().equalsIgnoreCase(&quot;&quot;)) {
+            errors
+                    .add(l
+                            .getString(&quot;Customer.groupdetail.savebutton.warn.nobirthday&quot;));
+        } else {
+
+            try {
+                DateFormat.getDateInstance(DateFormat.LONG).parse(
+                        textBirthday.getText());
+            } catch (ParseException e) {
+                //konnte Datum nicht parsen,also falsches Format = Fehlereingabe
+                errors
+                        .add(l
+                                .getString(&quot;Customer.groupdetail.savebutton.warn.nobirthday&quot;));
+            }
+
+        }
+
+        return errors;
+    }
+
+}
\ No newline at end of file

Modified: project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/CompositeMovie.java
===================================================================
--- project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/CompositeMovie.java	2004-12-03 15:27:28 UTC (rev 203)
+++ project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/CompositeMovie.java	2004-12-05 15:23:02 UTC (rev 204)
@@ -5,7 +5,7 @@
 import java.text.ParseException;
 import java.util.ArrayList;
 import java.util.Calendar;
-import java.util.GregorianCalendar;
+import java.util.Date;
 import java.util.Locale;
 import java.util.PropertyResourceBundle;
 import java.util.ResourceBundle;
@@ -33,11 +33,11 @@
 import org.eclipse.swt.widgets.TableColumn;
 import org.eclipse.swt.widgets.TableItem;
 import org.eclipse.swt.widgets.Text;
+import org.vafada.swtcalendar.SWTCalendarEvent;
+import org.vafada.swtcalendar.SWTCalendarListener;
 
 import com.cloudgarden.resource.SWTResourceManager;
-import org.vafada.swtcalendar.SWTCalendarEvent;
-import org.vafada.swtcalendar.SWTCalendarListener;
-import de.hsharz.provirent.Util;
+
 import de.hsharz.provirent.objects.Actor;
 import de.hsharz.provirent.objects.Director;
 import de.hsharz.provirent.objects.Genre;
@@ -188,7 +188,7 @@
 
     private Locale locale;
 
-    private Movie movie;
+    private Movie localmovie;
 
     /*
      * &#196;ndert die Sprache aller Elemente
@@ -319,46 +319,17 @@
                 tableMoviesOverviewLData.grabExcessHorizontalSpace = true;
                 tableMoviesOverviewLData.grabExcessVerticalSpace = true;
                 tableMoviesOverview.setLayoutData(tableMoviesOverviewLData);
-                tableMoviesOverview.addFocusListener(new FocusAdapter() {
-                    public void focusLost(FocusEvent evt) {
-                        System.out
-                                .println(&quot;tableMoviesOverview.focusLost, event=&quot;
-                                        + evt);
-                    }
-
-                    public void focusGained(FocusEvent evt) {
-                        System.out
-                                .println(&quot;tableMoviesOverview.focusGained, event=&quot;
-                                        + evt);
-                    }
-                });
-                tableMoviesOverview.addSelectionListener(new SelectionAdapter() {
+                tableMoviesOverview
+                        .addSelectionListener(new SelectionAdapter() {
                             public void widgetSelected(SelectionEvent evt) {
-                                if (logger.isDebugEnabled()) {
-                                    logger.debug(&quot;widgetSelected(SelectionEvent evt = &quot;
-                                                    + evt + &quot;) - start&quot;);
-                                }
-
                                 int index = tableMoviesOverview
                                         .getSelectionIndex();
 
-                                System.out.println(&quot;Table select. id: &quot;
-                                        + index
-                                        + &quot; TableItem:&quot;
-                                        + tableMoviesOverview.getItem(index)
-                                        + &quot; id: &quot;
-                                        + tableMoviesOverview.getItem(index)
-                                                .getText(0));
-
                                 //es wurde ein Element aus Tabelle ausgewaehlt
                                 // jetzt muss die
                                 //Detailansicht aktualisiert werden
                                 refreshMoviesDetail(tableMoviesOverview
                                         .getItem(index).getText(0));
-
-                                if (logger.isDebugEnabled()) {
-                                    logger.debug(&quot;widgetSelected(SelectionEvent) - end&quot;);
-                                }
                             }
                         });
                 {
@@ -578,6 +549,7 @@
                                     DateFormat.LONG).parse(
                                     textMoviesDate.getText()));
                         } catch (ParseException pe) {
+                            cal.setDate(new Date());
                         }
                     }
                     cal.open();
@@ -644,22 +616,22 @@
                             //open responsible Dialog and insert objects into
                             // table
                             DialogMovie dialog = new DialogMovie(getShell(), 0,
-                                    locale, movie, DialogMovie.TYPE_DIRECTOR);
+                                    locale, localmovie, DialogMovie.TYPE_DIRECTOR);
                             dialog.open();
 
                             tableMoviesDirectorsDetail.removeAll();
                             TableItem item;
-                            for (int i = 0; i &lt; movie.getDirector().size(); i++) {
+                            for (int i = 0; i &lt; localmovie.getDirector().size(); i++) {
                                 item = new TableItem(
                                         tableMoviesDirectorsDetail, SWT.NONE);
                                 item.setText(new String[] {
-                                        ((Director) movie.getDirector().get(i))
+                                        ((Director) localmovie.getDirector().get(i))
                                                 .getDirectorId()
                                                 + &quot;&quot;,
-                                        ((Director) movie.getDirector().get(i))
+                                        ((Director) localmovie.getDirector().get(i))
                                                 .getLastName()
                                                 + &quot; , &quot;
-                                                + ((Director) movie
+                                                + ((Director) localmovie
                                                         .getDirector().get(i))
                                                         .getFirstName() });
                             }
@@ -691,11 +663,11 @@
                                 String strid = tableMoviesDirectorsDetail
                                         .getItem(index).getText(0);
                                 int id = Integer.parseInt(strid);
-                                for (int i = 0; i &lt; movie.getDirector().size(); i++) {
-                                    Director o = (Director) movie.getDirector()
+                                for (int i = 0; i &lt; localmovie.getDirector().size(); i++) {
+                                    Director o = (Director) localmovie.getDirector()
                                             .get(i);
                                     if (o.getDirectorId().intValue() == id) {
-                                        movie.getDirector().remove(o);
+                                        localmovie.getDirector().remove(o);
                                         break;
                                     }
                                 }
@@ -768,20 +740,20 @@
                 public void widgetSelected(SelectionEvent evt) {
                     //open responsible Dialog and insert objects into table
                     DialogMovie dialog = new DialogMovie(getShell(), 0, locale,
-                            movie, DialogMovie.TYPE_ACTOR);
+                            localmovie, DialogMovie.TYPE_ACTOR);
                     dialog.open();
 
                     tableMoviesActorsDetail.removeAll();
                     TableItem item;
-                    for (int i = 0; i &lt; movie.getActors().size(); i++) {
+                    for (int i = 0; i &lt; localmovie.getActors().size(); i++) {
                         item = new TableItem(tableMoviesActorsDetail, SWT.NONE);
                         item.setText(new String[] {
-                                ((Actor) movie.getActors().get(i)).getActorId()
+                                ((Actor) localmovie.getActors().get(i)).getActorId()
                                         + &quot;&quot;,
-                                ((Actor) movie.getActors().get(i))
+                                ((Actor) localmovie.getActors().get(i))
                                         .getLastName()
                                         + &quot;, &quot;
-                                        + ((Actor) movie.getActors().get(i))
+                                        + ((Actor) localmovie.getActors().get(i))
                                                 .getFirstName() });
                     }
                 }
@@ -811,10 +783,10 @@
                                 String strid = tableMoviesActorsDetail.getItem(
                                         index).getText(0);
                                 int id = Integer.parseInt(strid);
-                                for (int i = 0; i &lt; movie.getActors().size(); i++) {
-                                    Actor o = (Actor) movie.getActors().get(i);
+                                for (int i = 0; i &lt; localmovie.getActors().size(); i++) {
+                                    Actor o = (Actor) localmovie.getActors().get(i);
                                     if (o.getActorId().intValue() == id) {
-                                        movie.getActors().remove(o);
+                                        localmovie.getActors().remove(o);
                                         break;
                                     }
                                 }
@@ -885,17 +857,17 @@
                 public void widgetSelected(SelectionEvent evt) {
                     //open responsible Dialog and insert objects into table
                     DialogMovie dialog = new DialogMovie(getShell(), 0, locale,
-                            movie, DialogMovie.TYPE_GENRE);
+                            localmovie, DialogMovie.TYPE_GENRE);
                     dialog.open();
 
                     tableMoviesGenresDetail.removeAll();
                     TableItem item;
-                    for (int i = 0; i &lt; movie.getGenres().size(); i++) {
+                    for (int i = 0; i &lt; localmovie.getGenres().size(); i++) {
                         item = new TableItem(tableMoviesGenresDetail, SWT.NONE);
                         item.setText(new String[] {
-                                ((Genre) movie.getGenres().get(i)).getGenreId()
+                                ((Genre) localmovie.getGenres().get(i)).getGenreId()
                                         + &quot;&quot;,
-                                ((Genre) movie.getGenres().get(i)).getName()
+                                ((Genre) localmovie.getGenres().get(i)).getName()
                                         + &quot;&quot; });
                     }
                 }
@@ -925,10 +897,10 @@
                                 String strid = tableMoviesGenresDetail.getItem(
                                         index).getText(0);
                                 int id = Integer.parseInt(strid);
-                                for (int i = 0; i &lt; movie.getGenres().size(); i++) {
-                                    Genre o = (Genre) movie.getGenres().get(i);
+                                for (int i = 0; i &lt; localmovie.getGenres().size(); i++) {
+                                    Genre o = (Genre) localmovie.getGenres().get(i);
                                     if (o.getGenreId().intValue() == id) {
-                                        movie.getGenres().remove(o);
+                                        localmovie.getGenres().remove(o);
                                         break;
                                     }
                                 }
@@ -999,17 +971,17 @@
                 public void widgetSelected(SelectionEvent evt) {
                     //open responsible Dialog and insert objects into table
                     DialogMovie dialog = new DialogMovie(getShell(), 0, locale,
-                            movie, DialogMovie.TYPE_IMAGE);
+                            localmovie, DialogMovie.TYPE_IMAGE);
                     dialog.open();
 
                     tableMoviesImagesDetail.removeAll();
                     TableItem item;
-                    for (int i = 0; i &lt; movie.getImages().size(); i++) {
+                    for (int i = 0; i &lt; localmovie.getImages().size(); i++) {
                         item = new TableItem(tableMoviesImagesDetail, SWT.NONE);
                         item.setText(new String[] {
-                                ((Image) movie.getImages().get(i)).getImageId()
+                                ((Image) localmovie.getImages().get(i)).getImageId()
                                         + &quot;&quot;,
-                                ((Image) movie.getImages().get(i))
+                                ((Image) localmovie.getImages().get(i))
                                         .getImageFileName()
                                         + &quot;&quot; });
                     }
@@ -1040,10 +1012,10 @@
                                 String strid = tableMoviesImagesDetail.getItem(
                                         index).getText(0);
                                 int id = Integer.parseInt(strid);
-                                for (int i = 0; i &lt; movie.getImages().size(); i++) {
-                                    Image o = (Image) movie.getImages().get(i);
+                                for (int i = 0; i &lt; localmovie.getImages().size(); i++) {
+                                    Image o = (Image) localmovie.getImages().get(i);
                                     if (o.getImageId().intValue() == id) {
-                                        movie.getImages().remove(o);
+                                        localmovie.getImages().remove(o);
                                         break;
                                     }
                                 }
@@ -1134,11 +1106,11 @@
                     tableMoviesImagesDetail.removeAll();
                     tableMoviesGenresDetail.removeAll();
 
-                    movie = new Movie();
-                    movie.setActors(new ArrayList());
-                    movie.setDirector(new ArrayList());
-                    movie.setGenres(new ArrayList());
-                    movie.setImages(new ArrayList());
+                    localmovie = new Movie();
+                    localmovie.setActors(new ArrayList());
+                    localmovie.setDirector(new ArrayList());
+                    localmovie.setGenres(new ArrayList());
+                    localmovie.setImages(new ArrayList());
                 }
             });
 
@@ -1183,20 +1155,26 @@
             buttonMoviesDelete.setEnabled(false);
             buttonMoviesDelete.addSelectionListener(new SelectionAdapter() {
                 public void widgetSelected(SelectionEvent evt) {
-                    System.out
-                            .println(&quot;buttonMoviesDelete.widgetSelected, event=&quot;
-                                    + evt);
+                    if (logger.isDebugEnabled()) {
+                        logger
+                                .debug(&quot;widgetSelected(SelectionEvent) - buttonMoviesDelete.widgetSelected, event=&quot;
+                                        + evt);
+                    }
 
                     String msg = MessageFormat
-                            .format(l.getString(&quot;movies.groupdetail.deletebutton.question.text&quot;),
+                            .format(
+                                    l
+                                            .getString(&quot;movies.groupdetail.deletebutton.question.text&quot;),
                                     new Object[] { textMoviesTitle.getText()
                                             + &quot; &quot;
-                                            + l.getString(&quot;movies.groupdetail.deletebutton.question.gap&quot;)
+                                            + l
+                                                    .getString(&quot;movies.groupdetail.deletebutton.question.gap&quot;)
                                             + &quot; &quot; + textMoviesDate.getText() });
 
                     int question = showMsg(
                             msg,
-                            l.getString(&quot;movies.groupdetail.deletebutton.question.header&quot;),
+                            l
+                                    .getString(&quot;movies.groupdetail.deletebutton.question.header&quot;),
                             SWT.ICON_QUESTION | SWT.YES | SWT.NO);
 
                     if (question != SWT.YES) {
@@ -1206,7 +1184,7 @@
                     try {
                         //object speichern
                         // Fehlerbehandlung
-                        Database.deleteObject(movie);
+                        Database.deleteObject(localmovie);
 
                         //&#220;bersichtsTabelle aktualisieren
                         refreshMoviesOverviewTable(textMoviesSearch.getText());
@@ -1228,27 +1206,42 @@
 
                         //Statusline Nachricht sezten
                         statusLine
-                                .setStatus(1,l.getString(&quot;movies.groupdetail.deletebutton.newok&quot;));
+                                .setStatus(
+                                        1,
+                                        l
+                                                .getString(&quot;movies.groupdetail.deletebutton.newok&quot;));
 
                     } catch (DataBaseException e) {
                         if (e.getMessage().equalsIgnoreCase(&quot;1&quot;)) {
                             //Fehler beim Speichern des Objectes
 
-                            statusLine.setStatus(3,l.getString(&quot;movies.groupdetail.deletebutton.errorsave&quot;));
-                            showMsg(l.getString(&quot;movies.groupdetail.deletebutton.errorsave&quot;),
+                            statusLine
+                                    .setStatus(
+                                            3,
+                                            l
+                                                    .getString(&quot;movies.groupdetail.deletebutton.errorsave&quot;));
+                            showMsg(
+                                    l
+                                            .getString(&quot;movies.groupdetail.deletebutton.errorsave&quot;),
                                     l.getString(&quot;error&quot;), SWT.ICON_ERROR
                                             | SWT.OK);
 
                         } else if (e.getMessage().equalsIgnoreCase(&quot;2&quot;)) {
                             //fehler beim db aufbau
-                            statusLine.setStatus(3,l.getString(&quot;movies.groupdetail.deletebutton.errordb&quot;));
-                            showMsg(l.getString(&quot;movies.groupdetail.deletebutton.errordb&quot;),
+                            statusLine
+                                    .setStatus(
+                                            3,
+                                            l
+                                                    .getString(&quot;movies.groupdetail.deletebutton.errordb&quot;));
+                            showMsg(
+                                    l
+                                            .getString(&quot;movies.groupdetail.deletebutton.errordb&quot;),
                                     l.getString(&quot;error&quot;), SWT.ICON_ERROR
                                             | SWT.OK);
 
                         } else {
                             //@todo
-                            e.printStackTrace();
+                            logger.error(&quot;widgetSelected(SelectionEvent)&quot;, e);
                         }
 
                     }
@@ -1273,51 +1266,59 @@
             buttonMoviesSave.setEnabled(false);
             buttonMoviesSave.addSelectionListener(new SelectionAdapter() {
                 public void widgetSelected(SelectionEvent evt) {
-                    System.out
-                            .println(&quot;buttonMoviesSave.widgetSelected, event=&quot;
-                                    + evt);
+                    if (logger.isDebugEnabled()) {
+                        logger
+                                .debug(&quot;widgetSelected(SelectionEvent) - buttonMoviesSave.widgetSelected, event=&quot;
+                                        + evt);
+                    }
 
                     if (textMoviesTitle.getText().trim().equalsIgnoreCase(&quot;&quot;)
                             || textMoviesDescription.getText().trim()
                                     .equalsIgnoreCase(&quot;&quot;)
                             || textMoviesDate.getText().trim()
                                     .equalsIgnoreCase(&quot;&quot;)
-                            || movie.getDirector().size() == 0
-                            || movie.getActors().size() == 0
-                            || movie.getGenres().size() == 0
-                            || movie.getImages().size() == 0) {
+                            || localmovie.getDirector().size() == 0
+                            || localmovie.getActors().size() == 0
+                            || localmovie.getGenres().size() == 0
+                            || localmovie.getImages().size() == 0) {
 
-                        showMsg(l.getString(&quot;movies.groupdetail.savebutton.warn.noname.msg&quot;),
-                                l.getString(&quot;movies.groupdetail.savebutton.warn.noname.title&quot;),
+                        showMsg(
+                                l
+                                        .getString(&quot;movies.groupdetail.savebutton.warn.noname.msg&quot;),
+                                l
+                                        .getString(&quot;movies.groupdetail.savebutton.warn.noname.title&quot;),
                                 SWT.ICON_WARNING | SWT.YES);
 
                         return;
                     }
 
                     //testen welcher mode
-                    movie.setTitle(textMoviesTitle.getText());
-                    movie.setDescription(textMoviesDescription.getText());
+                    localmovie.setTitle(textMoviesTitle.getText());
+                    localmovie.setDescription(textMoviesDescription.getText());
                     try {
-                        movie.setReleaseDate(Calendar.getInstance());
-                        movie.getReleaseDate().setTime(
+                        localmovie.setReleaseDate(Calendar.getInstance());
+                        localmovie.getReleaseDate().setTime(
                                 DateFormat.getDateInstance(DateFormat.LONG)
-                                .parse(textMoviesDate.getText()));
-                            logger.debug(&quot;Datum: &quot; + movie.getReleaseDate());
+                                        .parse(textMoviesDate.getText()));
+                        logger.debug(&quot;Datum: &quot; + localmovie.getReleaseDate());
                     } catch (ParseException e1) {
                         // TODO Auto-generated catch block
-                        //Hier muss noch was gemacht werden, das Datum konnte nicht geparst werden
-                        e1.printStackTrace();
+                        //Hier muss noch was gemacht werden, das Datum konnte
+                        // nicht geparst werden
+                        logger.error(&quot;widgetSelected(SelectionEvent)&quot;, e1);
                         return;
                     }
 
-                    try{
-                    movie.setRuntime(Integer.parseInt(textMoviesRuntime
-                            .getText()));
-                    }
-                    catch(Exception ex){
-                        ex.printStackTrace();
-                        showMsg(l.getString(&quot;movies.groupdetail.savebutton.warn.noname.msg&quot;),
-                                l.getString(&quot;movies.groupdetail.savebutton.warn.noname.title&quot;),
+                    try {
+                        localmovie.setRuntime(Integer.parseInt(textMoviesRuntime
+                                .getText()));
+                    } catch (Exception ex) {
+                        logger.error(&quot;widgetSelected(SelectionEvent)&quot;, ex);
+                        showMsg(
+                                l
+                                        .getString(&quot;movies.groupdetail.savebutton.warn.noname.msg&quot;),
+                                l
+                                        .getString(&quot;movies.groupdetail.savebutton.warn.noname.title&quot;),
                                 SWT.ICON_WARNING | SWT.YES);
                         return;
                     }
@@ -1328,11 +1329,10 @@
                      *       Klasse)
                      */
                     //neues Objekt erzeugen
-
                     try {
                         //object speichern
                         // Fehlerbehandlung
-                        Object o = Database.saveObject(movie);
+                        Object o = Database.saveObject(localmovie);
 
                         // in &#220;bersichtstabelle einf&#252;gen
                         insertIntoMoviesOverviewTable((Movie) o);
@@ -1342,7 +1342,8 @@
                         statusLine
                                 .setStatus(
                                         1,
-                                        l.getString(&quot;movies.groupdetail.savebutton.newok&quot;));
+                                        l
+                                                .getString(&quot;movies.groupdetail.savebutton.newok&quot;));
                     } catch (DataBaseException e) {
                         if (e.getMessage().equalsIgnoreCase(&quot;1&quot;)) {
                             //Fehler beim Speichern des Objectes
@@ -1350,9 +1351,11 @@
                             statusLine
                                     .setStatus(
                                             3,
-                                            l.getString(&quot;movies.groupdetail.savebutton.errorsave&quot;));
+                                            l
+                                                    .getString(&quot;movies.groupdetail.savebutton.errorsave&quot;));
                             showMsg(
-                                    l.getString(&quot;movies.groupdetail.savebutton.errorsave&quot;),
+                                    l
+                                            .getString(&quot;movies.groupdetail.savebutton.errorsave&quot;),
                                     &quot;Fehler&quot;, SWT.ICON_ERROR | SWT.OK);
 
                         } else if (e.getMessage().equalsIgnoreCase(&quot;2&quot;)) {
@@ -1360,14 +1363,16 @@
                             statusLine
                                     .setStatus(
                                             3,
-                                            l.getString(&quot;movies.groupdetail.savebutton.errordb&quot;));
+                                            l
+                                                    .getString(&quot;movies.groupdetail.savebutton.errordb&quot;));
                             showMsg(
-                                    l.getString(&quot;movies.groupdetail.savebutton.errordb&quot;),
+                                    l
+                                            .getString(&quot;movies.groupdetail.savebutton.errordb&quot;),
                                     &quot;Fehler&quot;, SWT.ICON_ERROR | SWT.OK);
 
                         } else {
                             //@todo
-                            e.printStackTrace();
+                            logger.error(&quot;widgetSelected(SelectionEvent)&quot;, e);
                         }
 
                     }
@@ -1387,9 +1392,11 @@
             buttonMoviesCancel.setEnabled(false);
             buttonMoviesCancel.addSelectionListener(new SelectionAdapter() {
                 public void widgetSelected(SelectionEvent evt) {
-                    System.out
-                            .println(&quot;buttonMoviesCancel.widgetSelected, event=&quot;
-                                    + evt);
+                    if (logger.isDebugEnabled()) {
+                        logger
+                                .debug(&quot;widgetSelected(SelectionEvent) - buttonMoviesCancel.widgetSelected, event=&quot;
+                                        + evt);
+                    }
                     setMoviesGroupButtonSaveCancel();
                 }
             });
@@ -1402,9 +1409,12 @@
      */
     private void insertIntoMoviesOverviewTable(Movie movie2) {
         // TODO Auto-generated method stub
-        TableItem item = new TableItem(tableMoviesOverview,SWT.NONE);
-        item.setText(new String [] {movie2.getMovieId()+ &quot; &quot;,movie2.getTitle()
-                + &quot; &quot;,Util.getTextByDate(movie2.getReleaseDate())});
+        TableItem item = new TableItem(tableMoviesOverview, SWT.NONE);
+        item.setText(new String[] {
+                movie2.getMovieId() + &quot; &quot;,
+                movie2.getTitle() + &quot; &quot;,
+                DateFormat.getDateInstance(DateFormat.SHORT).format(
+                        movie2.getReleaseDate()) });
     }
 
     /**
@@ -1438,13 +1448,17 @@
     private void refreshMoviesOverviewTable(String filter) {
         // TODO Auto-generated method stub
         if (tableMoviesOverview == null) {
-            System.out
-                    .println(&quot;Konnte MoviesOverviewtable nicht refreshen, da diese null ist!&quot;);
+            if (logger.isDebugEnabled()) {
+                logger
+                        .debug(&quot;refreshMoviesOverviewTable(String) - Konnte MoviesOverviewtable nicht refreshen, da diese null ist!&quot;);
+            }
             return;
         }
-        System.out
-                .println(&quot;Versuche nun MoviesOverviewtable zu refreshen. Filter: &quot;
-                        + filter);
+        if (logger.isDebugEnabled()) {
+            logger
+                    .debug(&quot;refreshMoviesOverviewTable(String) - Versuche nun MoviesOverviewtable zu refreshen. Filter: &quot;
+                            + filter);
+        }
         tableMoviesOverview.removeAll();
         TableItem item;
         java.util.List Movielist = Database.getMovie(filter);
@@ -1453,8 +1467,11 @@
 
             Movie o = (Movie) Movielist.get(i);
             item = new TableItem(tableMoviesOverview, SWT.NONE);
-            item.setText(new String[] { o.getMovieId() + &quot;&quot;, o.getTitle(),
-                    Util.getTextByDate(o.getReleaseDate(), &quot;dd.MM.YYYY&quot;) });
+            item.setText(new String[] {
+                    o.getMovieId() + &quot;&quot;,
+                    o.getTitle(),
+                    DateFormat.getDateInstance(DateFormat.SHORT).format(
+                            o.getReleaseDate().getTime()) });
 
         }
     }
@@ -1483,10 +1500,11 @@
             //id ist keine Zahl
             return;
         }
-        movie = object;
+        localmovie = object;
         textMoviesID.setText(object.getMovieId() + &quot;&quot;);
         textMoviesTitle.setText(object.getTitle());
-        textMoviesDate.setText(Util.getTextByDate(object.getReleaseDate(), &quot;dd.MM.YYYY&quot;));
+        textMoviesDate.setText(DateFormat.getDateInstance(DateFormat.LONG)
+                .format(object.getReleaseDate().getTime()));
         textMoviesRuntime.setText(Integer.toString(object.getRuntime()));
         textMoviesDescription.setText(object.getDescription());
 
@@ -1516,7 +1534,8 @@
             Genre o = (Genre) object.getGenres().get(i);
             logger.debug(i + &quot; &quot; + o);
             item = new TableItem(tableMoviesGenresDetail, SWT.NONE);
-            item.setText(new String[] { o.getGenreId() + &quot;&quot;,
+            item
+                    .setText(new String[] { o.getGenreId() + &quot;&quot;,
                             o.getName() + &quot;&quot; });
 
             //item.setText(new String[] {o.getGenreId() 

Modified: project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/DialogMovie.java
===================================================================
--- project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/DialogMovie.java	2004-12-03 15:27:28 UTC (rev 203)
+++ project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/DialogMovie.java	2004-12-05 15:23:02 UTC (rev 204)
@@ -134,6 +134,7 @@
             int type, int x, int y, int width, int height) {
         super(parent, style);
         shell = parent;
+        shell.setText(&quot;Das soll ein Titel sein&quot;);
         this.movie = movie;
         initLanguage(locale);
         this.type = type;

Modified: project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/SWTCalendarDialog.java
===================================================================
--- project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/SWTCalendarDialog.java	2004-12-03 15:27:28 UTC (rev 203)
+++ project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/SWTCalendarDialog.java	2004-12-05 15:23:02 UTC (rev 204)
@@ -15,7 +15,7 @@
 
     public void open() {
         shell.pack();
-        shell.open();
+        shell.open();        shell.setText(&quot;Calender Titel&quot;);
         while (!shell.isDisposed()) {
             if (!display.readAndDispatch()) display.sleep();
         }

Modified: project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/language/customer.properties
===================================================================
--- project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/language/customer.properties	2004-12-03 15:27:28 UTC (rev 203)
+++ project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui/language/customer.properties	2004-12-05 15:23:02 UTC (rev 204)
@@ -39,8 +39,22 @@
 Customer.groupdetail.birthdaybuttonchange=&#196;ndern
 Customer.groupdetail.birthdaybuttonfinish=Fertig
 
-Customer.groupdetail.savebutton.warn.noname.title=Datensatz speichern
-Customer.groupdetail.savebutton.warn.noname.msg=Der Datensatz kann nicht gespeichert werden. \n Bitte geben Sie einen Namen an
+Customer.groupdetail.savebutton.warn.noitems.title=Datensatz speichern
+Customer.groupdetail.savebutton.warn.noitems.msg=Der Datensatz kann nicht gespeichert werden, da folgende Werte fehlen:\n
+Customer.groupdetail.savebutton.warn.nousername=Username
+Customer.groupdetail.savebutton.warn.nolastname=Nachname
+Customer.groupdetail.savebutton.warn.nofirstname=Vorname
+Customer.groupdetail.savebutton.warn.nostreet=Strasse
+Customer.groupdetail.savebutton.warn.nonumber=Hausnummer
+Customer.groupdetail.savebutton.warn.nozipcode=PLZ
+Customer.groupdetail.savebutton.warn.nocity=Stadt
+Customer.groupdetail.savebutton.warn.nocountry=Land
+Customer.groupdetail.savebutton.warn.noemail=Emailadresse
+Customer.groupdetail.savebutton.warn.noquestion=Geheimefrage
+Customer.groupdetail.savebutton.warn.noanswer=Geheimeantwort
+Customer.groupdetail.savebutton.warn.noregistrationdate=Registrierungsdatum
+Customer.groupdetail.savebutton.warn.nobirthday=Geburtstag
+
 Customer.groupdetail.savebutton.newok=Speichern des neuen Benutzers erfolgreich.
 Customer.groupdetail.savebutton.editok=&#196;ndern des Benutzers erfolgreich.
 

Modified: project_src/provirent_hibernate/src/de/hsharz/provirent/objects/Customer.java
===================================================================
--- project_src/provirent_hibernate/src/de/hsharz/provirent/objects/Customer.java	2004-12-03 15:27:28 UTC (rev 203)
+++ project_src/provirent_hibernate/src/de/hsharz/provirent/objects/Customer.java	2004-12-05 15:23:02 UTC (rev 204)
@@ -63,7 +63,7 @@
 
     public void setCustomerId(Integer customerId) {
         this.customerId = customerId;
-    } 
+    }
 
     public Calendar getDayOfRegistration() {
         return this.dayOfRegistration;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000204.html">[Provirent-svn-commit] r203 - project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui
</A></li>
	<LI>Next message: <A HREF="000206.html">[Provirent-svn-commit] r205 - in project_src/provirent_hibernate/src/de/hsharz/provirent/management/gui: . language
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#205">[ date ]</a>
              <a href="thread.html#205">[ thread ]</a>
              <a href="subject.html#205">[ subject ]</a>
              <a href="author.html#205">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/provirent-svn-commit">More information about the Provirent-svn-commit
mailing list</a><br>
</body></html>
